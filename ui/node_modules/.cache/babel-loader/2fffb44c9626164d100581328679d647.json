{"ast":null,"code":"import _slicedToArray from\"/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/node_modules/@babel/runtime/regenerator/index.js\";// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React,{useCallback}from\"react\";import{Button,TextField,Paper,Typography,Grid}from\"@mui/material\";import Ledger from\"@daml/ledger\";import{Voting}from\"@daml.js/create-daml-app\";import{authConfig,httpBaseUrl}from\"../config\";import{createHash}from\"crypto\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function hash(input){return createHash(\"sha256\").update(input).digest(\"hex\");}export var usernameExport;var wrap=function wrap(component){return/*#__PURE__*/ (// display VoteLogo.png\n_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",justifyContent:\"center\",alignItems:\"center\",style:{height:\"100vh\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"#0d47a1\",textAlign:\"center\"// sx={{ pt: 2 }}\n,children:\"Votencrypt\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",fontWeight:\"600\",color:\"#0d47a1\",textAlign:\"center\"// sx={{ pt: 2 }}\n,children:\"Secure Voting On The Blockchain\"})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Paper,{sx:{p:2,borderRadius:\"16px\"},elevation:2,children:component})})]})})// <Grid textAlign=\"center\" style={{ height: \"100vh\" }} verticalAlign=\"middle\">\n//   <Grid.Column style={{ maxWidth: 450 }}>\n//     <Form size=\"huge\" className=\"test-select-login-screen\">\n//       <Paper sx={{ p: 2, borderRadius: \"16px\" }} elevation={2}>\n//         {component}\n//       </Paper>\n//     </Form>\n//   </Grid.Column>\n// </Grid>\n);};export var LoginScreenVote=function LoginScreenVote(_ref){var onLogin=_ref.onLogin;var login=useCallback(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(credentials){var ledger,userContract,user;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;ledger=new Ledger({token:credentials.token,httpBaseUrl:httpBaseUrl});_context.next=4;return ledger.fetchByKey(Voting.User,credentials.party);case 4:userContract=_context.sent;if(!(userContract===null)){_context.next=10;break;}user={username:credentials.party};_context.next=9;return ledger.create(Voting.User,user);case 9:userContract=_context.sent;case 10:onLogin(credentials);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);alert(\"Unknown error:\\n\".concat(JSON.stringify(_context.t0)));case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,13]]);}));return function(_x){return _ref2.apply(this,arguments);};}(),[onLogin]);var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var handleLogin=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var hashedUsername;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();usernameExport=username;hashedUsername=hash(username);_context2.next=5;return login({party:hashedUsername,token:authConfig.makeToken(hashedUsername)});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function handleLogin(_x2){return _ref3.apply(this,arguments);};}();return wrap(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",style:{width:\"400px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(TextField,{placeholder:\"Enter Vote Key\",value:username,className:\"test-select-username-field\",sx:{paddingBottom:2},style:{width:\"100%\"},onChange:function onChange(e){return setUsername(e.currentTarget.value);},onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){e.preventDefault();handleLogin(e);}}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"test-select-login-button\",onClick:handleLogin,style:{width:\"100%\"},children:\"Vote\"})})]})}));};export var LoginScreenCreateVote=function LoginScreenCreateVote(_ref4){var onLogin=_ref4.onLogin;var login=useCallback(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(credentials){var ledger,userContract,user;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;ledger=new Ledger({token:credentials.token,httpBaseUrl:httpBaseUrl});_context3.next=4;return ledger.fetchByKey(Voting.User,credentials.party);case 4:userContract=_context3.sent;if(!(userContract===null)){_context3.next=10;break;}// const voteBob = useQuery()\nuser={username:credentials.party};_context3.next=9;return ledger.create(Voting.User,user);case 9:userContract=_context3.sent;case 10:onLogin(credentials);_context3.next=16;break;case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);alert(\"Unknown error:\\n\".concat(JSON.stringify(_context3.t0)));case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function(_x3){return _ref5.apply(this,arguments);};}(),[onLogin]);var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),username=_React$useState4[0],setUsername=_React$useState4[1];var handleLogin=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(event){var hashedUsername;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:event.preventDefault();usernameExport=username;hashedUsername=hash(username);_context4.next=5;return login({party:hashedUsername,token:authConfig.makeToken(hashedUsername)});case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function handleLogin(_x4){return _ref6.apply(this,arguments);};}();return wrap(/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",style:{width:\"400px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(TextField,{placeholder:\"Username\",value:username,className:\"test-select-username-field\",sx:{paddingBottom:2},style:{width:\"100%\"},onChange:function onChange(e){return setUsername(e.currentTarget.value);},onKeyPress:function onKeyPress(e){if(e.key===\"Enter\"){e.preventDefault();handleLogin(e);}}})}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:\"test-select-login-button\",onClick:handleLogin,style:{width:\"100%\"},children:\"Create A Vote\"})})]})}));};","map":{"version":3,"sources":["/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/src/components/LoginScreen.tsx"],"names":["React","useCallback","Button","TextField","Paper","Typography","Grid","Ledger","Voting","authConfig","httpBaseUrl","createHash","hash","input","update","digest","usernameExport","wrap","component","height","p","borderRadius","LoginScreenVote","onLogin","login","credentials","ledger","token","fetchByKey","User","party","userContract","user","username","create","alert","JSON","stringify","useState","setUsername","handleLogin","event","preventDefault","hashedUsername","makeToken","width","paddingBottom","e","currentTarget","value","key","LoginScreenCreateVote"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from \"react\";\nimport { Button, TextField, Paper, Typography, Grid } from \"@mui/material\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { Voting } from \"@daml.js/create-daml-app\";\nimport { authConfig, httpBaseUrl } from \"../config\";\nimport { createHash } from \"crypto\";\n\ntype Props = {\n  onLogin: (credentials: Credentials) => void;\n};\n\nfunction hash(input: string) {\n  return createHash(\"sha256\").update(input).digest(\"hex\");\n}\n\nexport let usernameExport: any;\nconst wrap: (c: JSX.Element) => JSX.Element = (component) => (\n  // display VoteLogo.png\n  <>\n    <Grid\n      container\n      direction=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      style={{ height: \"100vh\" }}\n    >\n      <Grid item>\n        <Typography\n          variant=\"h3\"\n          color=\"#0d47a1\"\n          textAlign=\"center\"\n          // sx={{ pt: 2 }}\n        >\n          Votencrypt\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Typography\n          variant=\"h6\"\n          fontWeight=\"600\"\n          color=\"#0d47a1\"\n          textAlign=\"center\"\n          // sx={{ pt: 2 }}\n        >\n          Secure Voting On The Blockchain\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Paper sx={{ p: 2, borderRadius: \"16px\" }} elevation={2}>\n          {component}\n        </Paper>\n      </Grid>\n    </Grid>\n  </>\n\n  // <Grid textAlign=\"center\" style={{ height: \"100vh\" }} verticalAlign=\"middle\">\n  //   <Grid.Column style={{ maxWidth: 450 }}>\n\n  //     <Form size=\"huge\" className=\"test-select-login-screen\">\n  //       <Paper sx={{ p: 2, borderRadius: \"16px\" }} elevation={2}>\n  //         {component}\n  //       </Paper>\n  //     </Form>\n  //   </Grid.Column>\n  // </Grid>\n);\n\nexport const LoginScreenVote: React.FC<Props> = ({ onLogin }) => {\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          Voting.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          const user = {\n            username: credentials.party,\n          };\n          userContract = await ledger.create(Voting.User, user);\n        }\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    usernameExport = username;\n\n    const hashedUsername = hash(username);\n\n    await login({\n      party: hashedUsername,\n      token: authConfig.makeToken(hashedUsername),\n    });\n  };\n\n  return wrap(\n    <>\n      <Grid container direction=\"column\" style={{ width: \"400px\" }}>\n        <Grid item>\n          <TextField\n            placeholder=\"Enter Vote Key\"\n            value={username}\n            className=\"test-select-username-field\"\n            sx={{ paddingBottom: 2 }}\n            style={{ width: \"100%\" }}\n            onChange={(e) => setUsername(e.currentTarget.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                handleLogin(e);\n              }\n            }}\n          />\n        </Grid>\n\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            className=\"test-select-login-button\"\n            onClick={handleLogin}\n            style={{ width: \"100%\" }}\n          >\n            Vote\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport const LoginScreenCreateVote: React.FC<Props> = ({ onLogin }) => {\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          Voting.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          // const voteBob = useQuery()\n\n          const user = {\n            username: credentials.party,\n          };\n          userContract = await ledger.create(Voting.User, user);\n        }\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    usernameExport = username;\n    const hashedUsername = hash(username);\n\n    await login({\n      party: hashedUsername,\n      token: authConfig.makeToken(hashedUsername),\n    });\n  };\n  return wrap(\n    <>\n      {/* FORM_BEGIN */}\n      <Grid container direction=\"column\" style={{ width: \"400px\" }}>\n        <Grid item>\n          <TextField\n            placeholder=\"Username\"\n            value={username}\n            className=\"test-select-username-field\"\n            sx={{ paddingBottom: 2 }}\n            style={{ width: \"100%\" }}\n            onChange={(e) => setUsername(e.currentTarget.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                handleLogin(e);\n              }\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            className=\"test-select-login-button\"\n            onClick={handleLogin}\n            style={{ width: \"100%\" }}\n          >\n            Create A Vote\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}