{"ast":null,"code":"// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { encode } from 'jwt-simple';\nexport const isLocalDev = process.env.NODE_ENV === 'development';\nconsole.log(isLocalDev);\nexport const authConfig = (() => {\n  var _process$env$REACT_AP;\n\n  const ledgerId = (_process$env$REACT_AP = process.env.REACT_APP_LEDGER_ID) !== null && _process$env$REACT_AP !== void 0 ? _process$env$REACT_AP : \"create-daml-app-sandbox\";\n  const auth = {\n    provider: \"none\",\n    ledgerId: ledgerId,\n    makeToken: party => {\n      const payload = {\n        \"https://daml.com/ledger-api\": {\n          \"ledgerId\": ledgerId,\n          \"applicationId\": 'create-daml-app',\n          \"actAs\": [party]\n        }\n      };\n      return encode(payload, \"secret\", \"HS256\");\n    }\n  };\n  return auth;\n})();\nexport const httpBaseUrl = undefined;\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;","map":{"version":3,"sources":["/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/src/config.ts"],"names":["encode","isLocalDev","process","env","NODE_ENV","console","log","authConfig","ledgerId","REACT_APP_LEDGER_ID","auth","provider","makeToken","party","payload","httpBaseUrl","undefined","wsBaseUrl"],"mappings":"AAAA;AACA;AAEA,SAASA,MAAT,QAAuB,YAAvB;AASA,OAAO,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAA5C;AACPC,OAAO,CAACC,GAAR,CAAYL,UAAZ;AAGA,OAAO,MAAMM,UAA0B,GAAG,CAAC,MAAM;AAAA;;AAC7C,QAAMC,QAAgB,4BAAGN,OAAO,CAACC,GAAR,CAAYM,mBAAf,yEAAsC,yBAA5D;AACA,QAAMC,IAAc,GAAG;AACrBC,IAAAA,QAAQ,EAAE,MADW;AAErBH,IAAAA,QAAQ,EAAEA,QAFW;AAGrBI,IAAAA,SAAS,EAAGC,KAAD,IAAW;AACpB,YAAMC,OAAO,GAAG;AACd,uCAA+B;AAC7B,sBAAYN,QADiB;AAE7B,2BAAiB,iBAFY;AAG7B,mBAAS,CAACK,KAAD;AAHoB;AADjB,OAAhB;AAOA,aAAOb,MAAM,CAACc,OAAD,EAAU,QAAV,EAAoB,OAApB,CAAb;AACD;AAZoB,GAAvB;AAcA,SAAOJ,IAAP;AACD,CAjBuC,GAAnC;AAoBP,OAAO,MAAMK,WAAW,GAAGC,SAApB;AACP,OAAO,MAAMC,SAAS,GAAGhB,UAAU,GAAG,sBAAH,GAA4Be,SAAxD","sourcesContent":["// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { encode } from 'jwt-simple';\n\nexport type Insecure = {\n  provider: \"none\",\n  makeToken: (party: string) => string,\n  ledgerId: string\n};\n\n\nexport const isLocalDev = process.env.NODE_ENV === 'development';\nconsole.log(isLocalDev);\nexport type Authentication = Insecure;\n\nexport const authConfig: Authentication = (() => {\n    const ledgerId: string = process.env.REACT_APP_LEDGER_ID ?? \"create-daml-app-sandbox\"\n    const auth: Insecure = {\n      provider: \"none\",\n      ledgerId: ledgerId,\n      makeToken: (party) => {\n        const payload = {\n          \"https://daml.com/ledger-api\": {\n            \"ledgerId\": ledgerId,\n            \"applicationId\": 'create-daml-app',\n            \"actAs\": [party]\n          }\n        }\n        return encode(payload, \"secret\", \"HS256\");\n      }\n    };\n    return auth;\n  }\n)();\n\nexport const httpBaseUrl = undefined;\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\n"]},"metadata":{},"sourceType":"module"}