{"ast":null,"code":"// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport{encode}from'jwt-simple';export var authConfig=function(){var _process$env$REACT_AP;var ledgerId=(_process$env$REACT_AP=process.env.REACT_APP_LEDGER_ID)!==null&&_process$env$REACT_AP!==void 0?_process$env$REACT_AP:\"create-daml-app-sandbox\";var auth={provider:\"none\",ledgerId:ledgerId,makeToken:function makeToken(party){var payload={\"https://daml.com/ledger-api\":{\"ledgerId\":ledgerId,\"applicationId\":'create-daml-app',\"actAs\":[party]}};return encode(payload,\"secret\",\"HS256\");}};return auth;}();export var httpBaseUrl=undefined;","map":{"version":3,"sources":["/Users/finn.jones/Documents/Github/Blockchain-Voting/Testing/create-daml-app/ui/src/config.ts"],"names":["encode","authConfig","ledgerId","process","env","REACT_APP_LEDGER_ID","auth","provider","makeToken","party","payload","httpBaseUrl","undefined"],"mappings":"AAAA;AACA;AAEA,OAASA,MAAT,KAAuB,YAAvB,CAYA,MAAO,IAAMC,CAAAA,UAA0B,CAAI,UAAM,2BAC7C,GAAMC,CAAAA,QAAgB,wBAAGC,OAAO,CAACC,GAAR,CAAYC,mBAAf,+DAAsC,yBAA5D,CACA,GAAMC,CAAAA,IAAc,CAAG,CACrBC,QAAQ,CAAE,MADW,CAErBL,QAAQ,CAAEA,QAFW,CAGrBM,SAAS,CAAE,mBAACC,KAAD,CAAW,CACpB,GAAMC,CAAAA,OAAO,CAAG,CACd,8BAA+B,CAC7B,WAAYR,QADiB,CAE7B,gBAAiB,iBAFY,CAG7B,QAAS,CAACO,KAAD,CAHoB,CADjB,CAAhB,CAOA,MAAOT,CAAAA,MAAM,CAACU,OAAD,CAAU,QAAV,CAAoB,OAApB,CAAb,CACD,CAZoB,CAAvB,CAcA,MAAOJ,CAAAA,IAAP,CACD,CAjBuC,EAAnC,CAoBP,MAAO,IAAMK,CAAAA,WAAW,CAAGC,SAApB","sourcesContent":["// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { encode } from 'jwt-simple';\n\nexport type Insecure = {\n  provider: \"none\",\n  makeToken: (party: string) => string,\n  ledgerId: string\n};\n\n\n\nexport type Authentication = Insecure;\n\nexport const authConfig: Authentication = (() => {\n    const ledgerId: string = process.env.REACT_APP_LEDGER_ID ?? \"create-daml-app-sandbox\"\n    const auth: Insecure = {\n      provider: \"none\",\n      ledgerId: ledgerId,\n      makeToken: (party) => {\n        const payload = {\n          \"https://daml.com/ledger-api\": {\n            \"ledgerId\": ledgerId,\n            \"applicationId\": 'create-daml-app',\n            \"actAs\": [party]\n          }\n        }\n        return encode(payload, \"secret\", \"HS256\");\n      }\n    };\n    return auth;\n  }\n)();\n\nexport const httpBaseUrl = undefined;\n"]},"metadata":{},"sourceType":"module"}