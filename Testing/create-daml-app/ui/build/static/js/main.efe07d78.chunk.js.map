{"version":3,"sources":["../daml.js/create-daml-app-0.1.0/lib/Voting/index.js","../daml.js/create-daml-app-0.1.0/lib/Voting/module.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/module.js","../daml.js/create-daml-app-0.1.0/lib/index.js","components/LoginScreen.tsx","config.ts","components/CatchNotFound.tsx","components/MainScreen.tsx","components/VoteManagement.tsx","components/VoteScreen.tsx","components/VoteAnalytics.tsx","components/HelpPopup.tsx","components/MainView.tsx","components/App.tsx","auth/auth0-provider-with-history.js","index.tsx"],"names":["Object","defineProperty","exports","value","m","p","hasOwnProperty","__export","require","jtv","damlTypes","pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662","Vote","decoder","lazyMemo","object","voter","Party","vote","Text","unixTime","Int","encode","__typed__","Voting","templateId","keyDecoder","keyEncode","username","voters","List","votes","voted","voteTimes","candidates","subject","Archive","template","choiceName","argumentDecoder","DA","Internal","Template","argumentEncode","resultDecoder","Unit","resultEncode","ContractId","registerTemplate","User","packageId","usernameExport","authConfig","ledgerId","process","REACT_APP_LEDGER_ID","provider","makeToken","party","payload","httpBaseUrl","hash","input","createHash","update","digest","wrap","component","Grid","container","direction","justifyContent","alignItems","style","height","item","Typography","variant","color","textAlign","fontWeight","Paper","sx","borderRadius","elevation","LandingScreen","onLogin","loginWithPopup","useAuth0","user","isAuthenticated","React","useState","buttonPress","setButtonPress","navigate","useNavigate","login","useCallback","credentials","a","ledger","Ledger","token","fetchByKey","userCreds","create","alert","JSON","stringify","handleLogin","undefined","name","picture","email","hashedUsername","handleLoginButton","screen_hint","console","log","width","spacing","Button","className","onClick","Link","to","LoginScreenVote","setUsername","event","preventDefault","TextField","placeholder","paddingBottom","onChange","e","currentTarget","onKeyPress","key","LoginScreenCreateVote","LogoutConfirm","onLogout","Box","display","flexGrow","noWrap","PageNotFound","MainScreen","logout","useParty","open","setOpen","AppBar","position","Toolbar","IconButton","edge","startIcon","Logout","returnTo","window","location","origin","padding","Drawer","anchor","onClose","role","ListItem","button","ListItemIcon","Ballot","ListItemText","primary","Poll","PublishedWithChanges","VoteManagement","useLedger","assets","useStreamQueries","buttonHandler","archiveByKey","contracts","signatories","Container","fontSize","lineHeight","px","pb","pt","Divider","map","currentItem","length","VoteScreen","hashUsername","Popup","setPopup","popupText","setPopupText","handleClose","reason","action","Fragment","size","Close","radioStatus","setRadioStatus","now","Date","getTime","includes","exerciseByKey","catch","error","HowToVote","FormControl","FormLabel","id","RadioGroup","defaultValue","FormControlLabel","control","Radio","label","Snackbar","autoHideDuration","message","VoteAnalytics","voteProgress","votesFrequency","useMemo","Map","forEach","has","set","get","colours","i","push","Math","random","toString","slice","votesFrequencyByTime","voteTime","ajustedTime","parseInt","time","reverse","LinearProgress","BarChart","data","XAxis","dataKey","Bar","fill","entry","index","Cell","Tooltip","PieChart","Pie","nameKey","LabelList","ResponsiveContainer","LineChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","tickFormatter","moment","format","Label","YAxis","allowDecimals","angle","Line","type","stroke","activeDot","r","HelpPopup","heading","content","helpOpen","setHelpOpen","SpeedDial","ariaLabel","icon","QuestionMark","Dialog","voteKeys","hashedVoteKeys","MainView","candidateList","setCandidateList","setValue","subjectText","setSubjectText","candidateText","setCandidateText","generateVoteKeys","voteDetails","voterCount","randomBytes","addCandidate","flexWrap","target","Slider","valueLabelDisplay","InputProps","endAdornment","KeyboardReturn","ml","secondaryAction","filter","Delete","Key","csv","join","blob","Blob","url","URL","createObjectURL","link","document","createElement","href","download","click","navigator","clipboard","writeText","bgcolor","overflow","maxHeight","subheader","sectionId","App","setCredentials","preferedScheme","useMediaQuery","theme","createTheme","palette","mode","main","secondary","typography","fontFamily","subtitle1","h5","h6","ThemeProvider","CssBaseline","path","element","Auth0ProviderWithHistory","children","domain","clientId","redirectUri","onRedirectCallback","appState","pathname","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.efe07d78.chunk.js","sourcesContent":["\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\nvar pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662 = require('@daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662');\n\n\nexports.Vote = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({voter: damlTypes.Party.decoder, vote: damlTypes.Text.decoder, unixTime: damlTypes.Int.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    voter: damlTypes.Party.encode(__typed__.voter),\n    vote: damlTypes.Text.encode(__typed__.vote),\n    unixTime: damlTypes.Int.encode(__typed__.unixTime),\n  };\n}\n,\n};\n\n\n\nexports.Voting = {\n  templateId: '882924905da2ef1e5c9a7c6b53d0ec1554a7ce58f5ae313b605a0d71a508a643:Voting:Voting',\n  keyDecoder: damlTypes.lazyMemo(function () { return damlTypes.lazyMemo(function () { return damlTypes.Party.decoder; }); }),\n  keyEncode: function (__typed__) { return damlTypes.Party.encode(__typed__); },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({username: damlTypes.Party.decoder, voters: damlTypes.List(damlTypes.Party).decoder, votes: damlTypes.List(damlTypes.Text).decoder, voted: damlTypes.List(damlTypes.Party).decoder, voteTimes: damlTypes.List(damlTypes.Int).decoder, candidates: damlTypes.List(damlTypes.Text).decoder, subject: damlTypes.Text.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    username: damlTypes.Party.encode(__typed__.username),\n    voters: damlTypes.List(damlTypes.Party).encode(__typed__.voters),\n    votes: damlTypes.List(damlTypes.Text).encode(__typed__.votes),\n    voted: damlTypes.List(damlTypes.Party).encode(__typed__.voted),\n    voteTimes: damlTypes.List(damlTypes.Int).encode(__typed__.voteTimes),\n    candidates: damlTypes.List(damlTypes.Text).encode(__typed__.candidates),\n    subject: damlTypes.Text.encode(__typed__.subject),\n  };\n}\n,\n  Archive: {\n    template: function () { return exports.Voting; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n  Vote: {\n    template: function () { return exports.Voting; },\n    choiceName: 'Vote',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.Vote.decoder; }),\n    argumentEncode: function (__typed__) { return exports.Vote.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.Voting).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.Voting).encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.Voting);\n\n\n\nexports.User = {\n  templateId: '882924905da2ef1e5c9a7c6b53d0ec1554a7ce58f5ae313b605a0d71a508a643:Voting:User',\n  keyDecoder: damlTypes.lazyMemo(function () { return damlTypes.lazyMemo(function () { return damlTypes.Party.decoder; }); }),\n  keyEncode: function (__typed__) { return damlTypes.Party.encode(__typed__); },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({username: damlTypes.Party.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    username: damlTypes.Party.encode(__typed__.username),\n  };\n}\n,\n  Archive: {\n    template: function () { return exports.User; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.User);\n\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DA = require('./DA');\nexports.DA = DA;\nexports.packageId = 'd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662';\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Internal = require('./Internal');\nexports.Internal = Internal;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Template = require('./Template');\nexports.Template = Template;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\n\nexports.Archive = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({}); }),\n  encode: function (__typed__) {\n  return {\n  };\n}\n,\n};\n\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Voting = require('./Voting');\nexports.Voting = Voting;\nexports.packageId = '882924905da2ef1e5c9a7c6b53d0ec1554a7ce58f5ae313b605a0d71a508a643';\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from \"react\";\nimport { Button, TextField, Paper, Typography, Grid } from \"@mui/material\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { Voting } from \"@daml.js/create-daml-app\";\nimport { authConfig, httpBaseUrl } from \"../config\";\nimport { createHash } from \"crypto\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\ntype Props = {\n  onLogin: (credentials: Credentials) => void;\n};\n\nfunction hash(input: string) {\n  return createHash(\"sha256\").update(input).digest(\"hex\");\n}\n\nexport let usernameExport: any;\nconst wrap: (c: JSX.Element) => JSX.Element = (component) => (\n  // display VoteLogo.png\n  <>\n    <Grid\n      container\n      direction=\"column\"\n      justifyContent=\"center\"\n      alignItems=\"center\"\n      style={{ height: \"100vh\" }}\n    >\n      <Grid item>\n        <Typography\n          variant=\"h3\"\n          color=\"primary\"\n          textAlign=\"center\"\n          // sx={{ pt: 2 }}#0d47a1\n        >\n          Votencrypt\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Typography\n          variant=\"h6\"\n          fontWeight=\"600\"\n          color=\"primary\"\n          textAlign=\"center\"\n          // sx={{ pt: 2 }}\n        >\n          Secure Voting On The Blockchain\n        </Typography>\n      </Grid>\n      <Grid item>\n        <Paper sx={{ p: 2, borderRadius: \"16px\" }} elevation={2}>\n          {component}\n        </Paper>\n      </Grid>\n    </Grid>\n  </>\n);\n\nexport const LandingScreen: React.FC<Props> = ({ onLogin }) => {\n  const { loginWithPopup } = useAuth0();\n  const { user, isAuthenticated } = useAuth0();\n  const [buttonPress, setButtonPress] = React.useState(false);\n  const navigate = useNavigate();\n\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          Voting.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          // const voteBob = useQuery()\n\n          const userCreds = {\n            username: credentials.party,\n          };\n          userContract = await ledger.create(Voting.User, userCreds);\n        }\n        navigate(\"/CreateVote\");\n\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleLogin = async () => {\n    // if user is not undefined then run\n\n    if (user !== undefined) {\n      const { name, picture, email } = user || {\n        name: \"\",\n        picture: \"\",\n        email: \"\",\n      };\n\n      // event.preventDefault();\n      usernameExport = name;\n      const hashedUsername = hash(email);\n      await login({\n        party: hashedUsername,\n        token: authConfig.makeToken(hashedUsername),\n      });\n    }\n  };\n  const handleLoginButton = async () => {\n    setButtonPress(true);\n    if (isAuthenticated === false) {\n      loginWithPopup({\n        screen_hint: \"signup\",\n      });\n    }\n  };\n  console.log(isAuthenticated);\n  if (isAuthenticated === true && buttonPress === true) {\n    handleLogin();\n    return <></>;\n  } else {\n    return wrap(\n      <>\n        <Grid\n          container\n          direction=\"column\"\n          style={{ width: \"400px\" }}\n          spacing={2}\n        >\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"test-select-login-button\"\n              onClick={handleLoginButton}\n              style={{ width: \"100%\" }}\n            >\n              Create A Vote\n            </Button>\n          </Grid>\n          <Grid item>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className=\"test-select-login-button\"\n              component={Link}\n              to=\"/VoteLogin\"\n              style={{ width: \"100%\" }}\n            >\n              Vote\n            </Button>\n          </Grid>\n        </Grid>\n      </>\n    );\n  }\n};\n\nexport const LoginScreenVote: React.FC<Props> = ({ onLogin }) => {\n  const navigate = useNavigate();\n\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          Voting.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          const user = {\n            username: credentials.party,\n          };\n          userContract = await ledger.create(Voting.User, user);\n        }\n        navigate(\"/Vote\");\n\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    usernameExport = username;\n\n    const hashedUsername = hash(username);\n\n    await login({\n      party: hashedUsername,\n      token: authConfig.makeToken(hashedUsername),\n    });\n  };\n\n  return wrap(\n    <>\n      <Grid container direction=\"column\" style={{ width: \"400px\" }}>\n        <Grid item>\n          <TextField\n            placeholder=\"Enter Vote Key\"\n            value={username}\n            className=\"test-select-username-field\"\n            sx={{ paddingBottom: 2 }}\n            style={{ width: \"100%\" }}\n            onChange={(e) => setUsername(e.currentTarget.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                handleLogin(e);\n              }\n            }}\n          />\n        </Grid>\n\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className=\"test-select-login-button\"\n            onClick={handleLogin}\n            style={{ width: \"100%\" }}\n          >\n            Vote\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n\nexport const LoginScreenCreateVote: React.FC<Props> = ({ onLogin }) => {\n  const navigate = useNavigate();\n\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          Voting.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          // const voteBob = useQuery()\n\n          const user = {\n            username: credentials.party,\n          };\n          userContract = await ledger.create(Voting.User, user);\n        }\n        navigate(\"/CreateVote\");\n\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n  const [username, setUsername] = React.useState(\"\");\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    usernameExport = username;\n    const hashedUsername = hash(username);\n\n    await login({\n      party: hashedUsername,\n      token: authConfig.makeToken(hashedUsername),\n    });\n  };\n  return wrap(\n    <>\n      {/* FORM_BEGIN */}\n      <Grid container direction=\"column\" style={{ width: \"400px\" }}>\n        <Grid item>\n          <TextField\n            placeholder=\"Username\"\n            value={username}\n            className=\"test-select-username-field\"\n            sx={{ paddingBottom: 2 }}\n            style={{ width: \"100%\" }}\n            onChange={(e) => setUsername(e.currentTarget.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                handleLogin(e);\n              }\n            }}\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            className=\"test-select-login-button\"\n            onClick={handleLogin}\n            style={{ width: \"100%\" }}\n          >\n            Create A Vote\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n};\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { encode } from 'jwt-simple';\n\nexport type Insecure = {\n  provider: \"none\",\n  makeToken: (party: string) => string,\n  ledgerId: string\n};\n\n\n\nexport type Authentication = Insecure;\n\nexport const authConfig: Authentication = (() => {\n    const ledgerId: string = process.env.REACT_APP_LEDGER_ID ?? \"create-daml-app-sandbox\"\n    const auth: Insecure = {\n      provider: \"none\",\n      ledgerId: ledgerId,\n      makeToken: (party) => {\n        const payload = {\n          \"https://daml.com/ledger-api\": {\n            \"ledgerId\": ledgerId,\n            \"applicationId\": 'create-daml-app',\n            \"actAs\": [party]\n          }\n        }\n        return encode(payload, \"secret\", \"HS256\");\n      }\n    };\n    return auth;\n  }\n)();\n\nexport const httpBaseUrl = \"http://localhost:7575/\";\n","import React from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { Button, Box, Paper, Typography } from \"@mui/material\";\r\n\r\ntype Props = {\r\n  onLogout: () => void;\r\n};\r\n\r\nexport const LogoutConfirm: React.FC<Props> = ({ onLogout }) => {\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    // are you sure you want to logout?\r\n    <>\r\n      <Box\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\r\n          <Typography variant=\"h5\" sx={{ flexGrow: 1 }} noWrap>\r\n            Are you sure you want to logout?\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            component={Link}\r\n            to=\"/\"\r\n            onClick={onLogout}\r\n            sx={{ m: 2 }}\r\n          >\r\n            Log Out\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => navigate(1)}\r\n            sx={{ m: 2 }}\r\n          >\r\n            Take me back\r\n          </Button>\r\n        </Paper>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\n// Create a page not found screen\r\nexport const PageNotFound = () => {\r\n  return (\r\n    <>\r\n      <Box\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        textAlign=\"center\"\r\n        style={{ height: \"100vh\" }}\r\n      >\r\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\r\n          <Typography variant=\"h5\" sx={{ flexGrow: 1 }} noWrap>\r\n            Oops! Page not found.\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            component={Link}\r\n            to=\"/\"\r\n            sx={{ m: 2 }}\r\n          >\r\n            Go to home page\r\n          </Button>\r\n        </Paper>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport {\n  Typography,\n  Box,\n  IconButton,\n  Toolbar,\n  Drawer,\n  Button,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  AppBar,\n} from \"@mui/material\";\n\nimport { Link } from \"react-router-dom\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport {\n  Ballot,\n  Poll,\n  Logout,\n  PublishedWithChanges,\n} from \"@mui/icons-material\";\nimport { useParty } from \"@daml/react\";\nimport { usernameExport } from \"./LoginScreen\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\ntype Props = {\n  onLogout: () => void;\n};\n\nconst MainScreen: React.FC<Props> = ({ onLogout }) => {\n  const { isAuthenticated, logout } = useAuth0();\n\n  const hashUsername = useParty();\n\n  const [open, setOpen] = React.useState(false);\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const LogoutCall = () => {\n    logout({\n      returnTo: window.location.origin,\n    });\n  };\n  return (\n    <>\n      <Box sx={{ flexGrow: 1, m: 2 }}>\n        <AppBar position=\"static\" sx={{ borderRadius: \"16px\" }}>\n          <Toolbar>\n            <IconButton\n              color=\"inherit\"\n              aria-label=\"open drawer\"\n              edge=\"start\"\n              onClick={handleDrawerOpen}\n              className=\"menu-button\"\n            >\n              <MenuIcon />\n            </IconButton>\n\n            <Typography variant=\"h5\" sx={{ flexGrow: 1 }} noWrap>\n              Votencrypt\n            </Typography>\n\n            <Button\n              variant=\"outlined\"\n              color=\"inherit\"\n              startIcon={<Logout />}\n              onClick={LogoutCall}\n            >\n              Log Out\n            </Button>\n          </Toolbar>\n        </AppBar>\n      </Box>\n      <Typography\n        variant=\"h3\"\n        textAlign=\"center\"\n        color=\"primary\"\n        sx={{ padding: 3 }}\n      >\n        Welcome, {usernameExport}!\n      </Typography>\n      <Drawer anchor=\"left\" open={open} onClose={() => setOpen(false)}>\n        <Box p={2} width=\"250px\" textAlign=\"center\" role=\"presentation\">\n          <Typography variant=\"h6\" component=\"div\">\n            Menu\n          </Typography>\n          <List>\n            <ListItem\n              button\n              component={Link}\n              to=\"/CreateVote\"\n              className=\"test-select-list-item\"\n            >\n              <ListItemIcon>\n                <Ballot />\n              </ListItemIcon>\n              <ListItemText primary=\"Create Vote\" />\n            </ListItem>\n\n            <ListItem\n              button\n              component={Link}\n              to=\"/VoteAnalytics\"\n              className=\"test-select-list-item\"\n            >\n              <ListItemIcon>\n                <Poll />\n              </ListItemIcon>\n              <ListItemText primary=\"Analytics\" />\n            </ListItem>\n\n            <ListItem\n              button\n              component={Link}\n              to=\"/VoteManagement\"\n              className=\"test-select-list-item\"\n            >\n              <ListItemIcon>\n                <PublishedWithChanges />\n              </ListItemIcon>\n              <ListItemText primary=\"Vote Management\" />\n            </ListItem>\n          </List>\n        </Box>\n      </Drawer>\n    </>\n  );\n};\n\nexport default MainScreen;\n","import React from \"react\";\r\n\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  Container,\r\n  Grid,\r\n  Divider,\r\n  Box,\r\n  Button,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n} from \"@mui/material\";\r\n\r\nimport { useLedger, useStreamQueries } from \"@daml/react\";\r\n\r\nimport { Voting } from \"@daml.js/create-daml-app\";\r\n\r\nimport { PublishedWithChanges } from \"@mui/icons-material\";\r\n\r\nconst VoteManagement: React.FC = () => {\r\n  const ledger = useLedger();\r\n\r\n  const assets = useStreamQueries(Voting.Voting);\r\n  console.log(assets);\r\n  const buttonHandler = async () => {\r\n    await ledger.archiveByKey(\r\n      Voting.Voting,\r\n      assets.contracts[0]?.signatories[0]\r\n    );\r\n  };\r\n  return (\r\n    <Container>\r\n      <Box sx={{ p: 1 }}>\r\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\r\n          <Grid container spacing={0}>\r\n            <Grid item>\r\n              <PublishedWithChanges sx={{ fontSize: 50 }} color=\"primary\" />\r\n            </Grid>\r\n\r\n            <Grid item>\r\n              <Grid item>\r\n                <Typography variant=\"h5\" display=\"block\">\r\n                  Vote Management\r\n                </Typography>\r\n              </Grid>\r\n              <Grid item>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  color=\"secondary\"\r\n                  display=\"block\"\r\n                  style={{ lineHeight: \"15px\" }}\r\n                >\r\n                  Manage active vote\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n          <Paper sx={{ px: 5, pb: 3, borderRadius: \"16px\" }} variant=\"outlined\">\r\n            <Typography variant=\"h6\" sx={{ pt: 2 }}>\r\n              Vote Description\r\n            </Typography>\r\n            {assets.contracts[0]?.payload?.subject ?? \"Loading...\"}\r\n            <Divider sx={{ pt: 2 }} />\r\n            <Typography variant=\"h6\" sx={{ pt: 2 }}>\r\n              Vote Candidates\r\n            </Typography>\r\n            <List>\r\n              {assets.contracts[0]?.payload?.candidates.map(\r\n                (item, currentItem) => (\r\n                  <ListItem key={item}>\r\n                    <ListItemText primary={currentItem + 1 + \". \" + item} />\r\n                  </ListItem>\r\n                )\r\n              )}\r\n            </List>\r\n            <Divider sx={{ pt: 2 }} />\r\n\r\n            {/* Number of voters */}\r\n            <Typography variant=\"h6\" sx={{ pt: 2 }}>\r\n              Number of voters\r\n            </Typography>\r\n            {assets.contracts[0]?.payload?.voters.length}\r\n          </Paper>\r\n          <Box textAlign=\"center\">\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={buttonHandler}\r\n              className=\"button\"\r\n              name=\"Arcive Vote\"\r\n              sx={{ m: 2, alignItems: \"center\" }}\r\n            >\r\n              Archive Vote\r\n            </Button>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VoteManagement;\r\n","import React, { useState } from \"react\";\nimport {\n  Button,\n  Grid,\n  List,\n  ListItem,\n  Container,\n  FormLabel,\n  FormControlLabel,\n  RadioGroup,\n  FormControl,\n  Typography,\n  Radio,\n  Divider,\n  Box,\n  Snackbar,\n  IconButton,\n  Paper,\n} from \"@mui/material\";\nimport { Close, HowToVote, Logout } from \"@mui/icons-material\";\nimport { Voting } from \"@daml.js/create-daml-app\";\nimport { useParty, useLedger, useStreamQueries } from \"@daml/react\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\ntype Props = {\n  onLogout: () => void;\n};\n\nconst VoteScreen: React.FC<Props> = ({ onLogout }) => {\n  const hashUsername = useParty();\n  const ledger = useLedger();\n\n  const [Popup, setPopup] = React.useState(false);\n  const [popupText, setPopupText] = React.useState(\"\");\n\n  const handleClose = (\n    event: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setPopup(false);\n  };\n  const action = (\n    <React.Fragment>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <Close fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  const assets = useStreamQueries(Voting.Voting);\n  const [radioStatus, setRadioStatus] = useState(\"\");\n  // get current unix time stamp\n  const now = new Date().getTime();\n\n  // console.log(now);\n  const buttonHandler = async () => {\n    if (assets.contracts[0]?.payload.voted.includes(hashUsername)) {\n      setPopupText(\"You have already voted\");\n\n      setPopup(true);\n    } else {\n      await ledger\n        .exerciseByKey(\n          Voting.Voting.Vote,\n          assets.contracts[0]?.signatories[0],\n          { voter: hashUsername, vote: radioStatus, unixTime: now }\n        )\n        .catch(console.error);\n      setPopupText(\"Your vote has been cast. Please or close the browser tab\");\n\n      setPopup(true);\n    }\n  };\n\n  return (\n    <>\n      <Box textAlign={\"right\"} sx={{ p: 1 }}>\n        <Button\n          variant=\"outlined\"\n          color=\"inherit\"\n          startIcon={<Logout />}\n          onClick={onLogout}\n          component={Link}\n          to=\"/\"\n        >\n          Log Out\n        </Button>\n      </Box>\n      <Container>\n        <Grid\n          container\n          direction=\"column\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          style={{ height: \"75vh\" }}\n        >\n          <Paper\n            sx={{ p: 3, borderRadius: \"16px\", width: \"90%\" }}\n            elevation={2}\n          >\n            <Grid container spacing={0}>\n              <Grid item>\n                <HowToVote sx={{ fontSize: 50 }} color=\"primary\" />\n              </Grid>\n\n              <Grid item>\n                <Grid item>\n                  <Typography variant=\"h5\" display=\"block\">\n                    Vote\n                  </Typography>\n                </Grid>\n                <Grid item>\n                  <Typography\n                    variant=\"subtitle1\"\n                    color=\"secondary\"\n                    display=\"block\"\n                    style={{ lineHeight: \"15px\" }}\n                  >\n                    Read the vote description carefully and choose an option\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Grid>\n\n            <Divider />\n\n            <Typography variant=\"h6\" sx={{ pt: 2 }}>\n              Vote Description\n            </Typography>\n            {assets.contracts[0]?.payload?.subject ?? \"Loading...\"}\n\n            <Divider sx={{ pb: 2 }} />\n            <Box textAlign=\"center\">\n              <FormControl>\n                <FormLabel id=\"demo-radio-buttons-group-label\">\n                  Options\n                </FormLabel>\n                <RadioGroup\n                  aria-labelledby=\"demo-radio-buttons-group-label\"\n                  defaultValue=\"female\"\n                  name=\"radio-buttons-group\"\n                >\n                  <List>\n                    {assets.contracts[0]?.payload?.candidates.map((item) => (\n                      <ListItem key={item}>\n                        <FormControlLabel\n                          value={item}\n                          control={<Radio />}\n                          label={item}\n                          onChange={(event) => {\n                            setRadioStatus(item);\n                          }}\n                        />\n                      </ListItem>\n                    ))}\n                  </List>\n                </RadioGroup>\n              </FormControl>\n            </Box>\n            <Box textAlign=\"center\">\n              <Button\n                variant=\"contained\"\n                onClick={buttonHandler}\n                className=\"button\"\n                name=\"Create Vote\"\n                sx={{ m: 2, alignItems: \"center\" }}\n              >\n                Vote\n              </Button>\n            </Box>\n            <Snackbar\n              open={Popup}\n              autoHideDuration={4000}\n              onClose={handleClose}\n              message={popupText}\n              action={action}\n            />\n          </Paper>\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\nexport default VoteScreen;\n","import React, { useMemo, useState } from \"react\";\nimport {\n  Divider,\n  Grid,\n  Container,\n  Paper,\n  Typography,\n  Box,\n  LinearProgress,\n} from \"@mui/material\";\nimport { Poll } from \"@mui/icons-material\";\n\nimport { Voting } from \"@daml.js/create-daml-app\";\n\nimport { useStreamQueries } from \"@daml/react\";\n\nimport {\n  Pie,\n  PieChart,\n  Tooltip,\n  Bar,\n  BarChart,\n  Cell,\n  XAxis,\n  LabelList,\n  CartesianGrid,\n  YAxis,\n  Line,\n  LineChart,\n  Legend,\n  Label,\n  ResponsiveContainer,\n} from \"recharts\";\n\nimport moment from \"moment\";\n\nconst VoteAnalytics: React.FC = () => {\n  const assets = useStreamQueries(Voting.Voting);\n  const votes = assets.contracts[0]?.payload?.votes || [];\n  const voters = assets.contracts[0]?.payload?.voters || [];\n  const voteTimes = assets.contracts[0]?.payload?.voteTimes || [];\n  const voteProgress = (votes.length / voters.length) * 100 || \"Loading...\";\n  const votesFrequency = useMemo(() => {\n    if (votes.length !== 0) {\n      const map = new Map<string, number>();\n      votes.forEach((vote) => {\n        if (map.has(vote)) {\n          map.set(vote, (map.get(vote) || 1) + 1);\n        } else {\n          map.set(vote, 1);\n        }\n      });\n      return [...map].map(([name, value]) => ({ name, value }));\n    } else {\n      return [\n        {\n          name: \"No Data\",\n          value: 0,\n        },\n      ];\n    }\n  }, [votes]);\n\n  // generate list of pastel colours based on length of data01\n  const colours = useMemo(() => {\n    const colours = [];\n    for (let i = 0; i < votesFrequency.length; i++) {\n      colours.push(`#${Math.random().toString(16).slice(2, 8)}`);\n    }\n    return colours;\n  }, [votesFrequency]);\n\n  // create a an array of objects with frequency in relationship with time\n  const votesFrequencyByTime = useMemo(() => {\n    if (votes.length !== 0) {\n      const map = new Map<number, number>();\n      voteTimes.forEach((voteTime) => {\n        var ajustedTime = voteTime.slice(0, -5) + \"00000\";\n        if (map.has(parseInt(ajustedTime))) {\n          map.set(\n            parseInt(ajustedTime),\n            (map.get(parseInt(ajustedTime)) || 1) + 1\n          );\n        } else {\n          map.set(parseInt(ajustedTime), 1);\n        }\n      });\n      return [...map].map(([time, value]) => ({ time, value })).reverse();\n    } else {\n      return [\n        {\n          time: 1,\n          value: 0,\n        },\n      ];\n    }\n  }, [voteTimes]);\n  return (\n    <Container>\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <Grid container spacing={0}>\n            <Grid item>\n              <Poll sx={{ fontSize: 50 }} color=\"primary\" />\n            </Grid>\n            <Grid item>\n              <Grid item>\n                <Typography variant=\"h5\" display=\"block\">\n                  Vote Analytics\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"secondary\"\n                  display=\"block\"\n                  style={{ lineHeight: \"15px\" }}\n                >\n                  View current vote results\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Divider />\n          <Typography variant=\"h5\">Vote Progress: {voteProgress}%</Typography>\n          <LinearProgress variant=\"determinate\" value={voteProgress} />\n\n          <Grid container justifyContent=\"center\" alignItems=\"center\">\n            <Grid item>\n              <BarChart width={400} height={100} data={votesFrequency}>\n                <XAxis dataKey=\"name\" />\n                <Bar dataKey=\"value\" fill=\"#8884d8\">\n                  {votesFrequency.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={colours[index]} />\n                  ))}\n                </Bar>\n\n                <Tooltip />\n              </BarChart>\n            </Grid>\n            <Grid item>\n              <PieChart width={400} height={400}>\n                <Pie\n                  data={votesFrequency}\n                  dataKey=\"value\"\n                  nameKey=\"name\"\n                  // cx={200}\n                  // cy={200}\n                >\n                  {votesFrequency.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={colours[index]} />\n                  ))}\n\n                  <LabelList dataKey=\"name\" fill=\"white\" />\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </Grid>\n          </Grid>\n          <Typography variant=\"h5\" textAlign=\"center\">\n            Votes Over Time\n          </Typography>\n          <Box style={{ width: \"100%\", height: \"20vh\" }} textAlign=\"center\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <LineChart\n                width={500}\n                height={300}\n                data={votesFrequencyByTime}\n                margin={{\n                  top: 5,\n                  right: 30,\n                  left: 20,\n                  bottom: 20,\n                }}\n              >\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"time\"\n                  tickFormatter={(unixTime) =>\n                    moment(unixTime).format(\"HH:mm Do\")\n                  }\n                >\n                  <Label value=\"Time\" fill=\"#8884d8\" position=\"bottom\" />\n                </XAxis>\n                <YAxis allowDecimals={false}>\n                  <Label value=\"Votes\" fill=\"#8884d8\" angle={-90} />\n                </YAxis>\n                <Tooltip />\n                <Line\n                  type=\"monotone\"\n                  name=\"Votes\"\n                  dataKey=\"value\"\n                  stroke=\"#8884d8\"\n                  activeDot={{ r: 8 }}\n                />\n                {/* <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" /> */}\n              </LineChart>\n            </ResponsiveContainer>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default VoteAnalytics;\n","import * as React from \"react\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport Box from \"@mui/material/Box\";\r\n\r\nimport Typography from \"@mui/material/Typography\";\r\nimport SpeedDial from \"@mui/material/SpeedDial\";\r\nimport { QuestionMark } from \"@mui/icons-material\";\r\n\r\nconst HelpPopup = ({\r\n  heading,\r\n  content,\r\n}: {\r\n  heading: string;\r\n  content: string;\r\n}) => {\r\n  const [helpOpen, setHelpOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setHelpOpen(true);\r\n  };\r\n\r\n  const handleClose = (reason: string) => {\r\n    console.log(reason);\r\n    setHelpOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <SpeedDial\r\n        ariaLabel=\"SpeedDial basic example\"\r\n        sx={{ position: \"fixed\", bottom: 16, right: 16 }}\r\n        icon={<QuestionMark />}\r\n        onClick={handleClickOpen}\r\n      ></SpeedDial>\r\n      <Dialog open={helpOpen} onClose={handleClose}>\r\n        <Typography variant=\"h6\" textAlign=\"center\" sx={{ p: 1 }}>\r\n          {heading}\r\n        </Typography>\r\n\r\n        <Box sx={{ p: 4 }}>\r\n          <Typography variant=\"h6\">{content}</Typography>\r\n        </Box>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\nexport default HelpPopup;\r\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useState } from \"react\";\n\nimport {\n  Button,\n  Container,\n  Slider,\n  List,\n  ListItem,\n  ListItemText,\n  TextField,\n  Typography,\n  Box,\n  Snackbar,\n  Grid,\n  Divider,\n  IconButton,\n  Paper,\n} from \"@mui/material\";\n\nimport {\n  Key,\n  Ballot,\n  Delete,\n  Close,\n  KeyboardReturn,\n  QuestionMark,\n} from \"@mui/icons-material\";\n\nimport { Voting } from \"@daml.js/create-daml-app\";\n\nimport { useParty, useLedger, useStreamQueries } from \"@daml/react\";\n\nimport { createHash } from \"crypto\";\n\nimport HelpPopup from \"./HelpPopup\";\n\nlet voteKeys: string[] = [];\nlet hashedVoteKeys: string[] = [];\nconst MainView: React.FC = () => {\n  const hashUsername = useParty();\n  const [candidateList, setCandidateList] = useState<string[]>([]);\n\n  const [value, setValue] = React.useState<number>(10);\n  const [subjectText, setSubjectText] = useState(\"\");\n  const [candidateText, setCandidateText] = useState(\"\");\n  const [Popup, setPopup] = React.useState(false);\n  const [popupText, setPopupText] = React.useState(\"\");\n\n  const assets = useStreamQueries(Voting.Voting);\n\n  const ledger = useLedger();\n  const buttonHandler = async (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    const button: HTMLButtonElement = event.currentTarget;\n    if ((button.name === \"Create Vote\", assets.contracts.length === 0)) {\n      setPopupText(\"Vote Created\");\n      setPopup(true);\n      const [voteKeys, hashedVoteKeys] = generateVoteKeys(value);\n\n      const voteDetails = {\n        username: hashUsername,\n        voters: hashedVoteKeys,\n        votes: [],\n        voted: [],\n        voteTimes: [],\n        candidates: candidateList,\n        subject: subjectText,\n      };\n      ledger.create(Voting.Voting, voteDetails);\n    } else {\n      setPopupText(\"Vote In Progress\");\n      setPopup(true);\n    }\n  };\n\n  function hash(input: string) {\n    return createHash(\"sha256\").update(input).digest(\"hex\");\n  }\n\n  const generateVoteKeys = (voterCount: any) => {\n    for (let i = 0; i < voterCount; i++) {\n      var crypto = require(\"crypto\");\n      var key = crypto.randomBytes(20).toString(\"hex\");\n      voteKeys.push(`${key}`);\n      hashedVoteKeys.push(hash(key));\n    }\n    return [voteKeys, hashedVoteKeys];\n  };\n\n  const addCandidate = () => {\n    if (candidateList.includes(candidateText)) {\n      setPopupText(\"Candidate already exists\");\n      setPopup(true);\n    } else {\n      setCandidateText(\"\");\n      // append candidateText to the start of candidateList\n      setCandidateList([candidateText, ...candidateList]);\n    }\n  };\n\n  // copy voteKeys to clipboard\n  const copyVoteKeys = () => {\n    navigator.clipboard.writeText(voteKeys.join(\"\\n\"));\n    setPopupText(\"Keys Copied To Clipboard\");\n    setPopup(true);\n  };\n\n  // export voteKeys to csv\n  const exportVoteKeys = () => {\n    const csv = voteKeys.join(\"\\n\");\n    const blob = new Blob([csv], { type: \"text/csv\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = \"voteKeys.csv\";\n    link.click();\n    setPopupText(\"Keys Exported\");\n    setPopup(true);\n  };\n\n  const handleClose = (\n    event: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setPopup(false);\n  };\n  const action = (\n    <React.Fragment>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <Close fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  return (\n    <Container>\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n            }}\n          >\n            <Ballot sx={{ fontSize: 45 }} color=\"primary\" />\n            <Typography variant=\"h5\">Create A Vote</Typography>\n          </div>\n          <Divider sx={{ p: 0 }} />\n\n          <Typography variant=\"h6\" sx={{ pt: 2 }}>\n            What is the vote on?\n          </Typography>\n          <Box textAlign=\"center\">\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Subject\"\n              variant=\"outlined\"\n              value={subjectText}\n              onChange={(event) => {\n                setSubjectText(event.target.value);\n              }}\n              style={{ width: \"94%\" }}\n              sx={{ m: 2 }}\n            />\n          </Box>\n          <Typography variant=\"h6\">Voters: {value}</Typography>\n\n          <Box textAlign=\"center\">\n            <Slider\n              value={value}\n              aria-label=\"Default\"\n              valueLabelDisplay=\"auto\"\n              name=\"slider\"\n              sx={{ m: 2 }}\n              style={{ width: \"95%\" }}\n              onChange={(event: any) => {\n                setValue(event.target.value);\n              }}\n            />\n          </Box>\n          <Typography variant=\"h6\">\n            Candidates: {candidateList.length}\n          </Typography>\n\n          <Box textAlign=\"center\">\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Candidate\"\n              variant=\"outlined\"\n              value={candidateText}\n              //  onChange={handleChange}\n              onChange={(event) => {\n                setCandidateText(event.target.value);\n              }}\n              onKeyPress={(event) => {\n                if (event.key === \"Enter\") {\n                  event.preventDefault();\n                  addCandidate();\n                }\n              }}\n              style={{ width: \"95%\" }}\n              sx={{ m: 2 }}\n              InputProps={{\n                endAdornment: (\n                  <IconButton onClick={addCandidate}>\n                    <KeyboardReturn />\n                  </IconButton>\n                ),\n              }}\n            />\n\n            <List style={{ width: \"95%\" }} sx={{ ml: 2 }}>\n              {candidateList.map((item) => (\n                <ListItem\n                  key={item}\n                  secondaryAction={\n                    <IconButton\n                      edge=\"end\"\n                      aria-label=\"delete\"\n                      onClick={(e) => {\n                        setCandidateList((candidateList) =>\n                          candidateList.filter((i) => i !== item)\n                        );\n                        console.log(candidateList);\n                      }}\n                    >\n                      <Delete />\n                    </IconButton>\n                  }\n                >\n                  <ListItemText primary={item} />\n                </ListItem>\n              ))}\n            </List>\n          </Box>\n\n          <Box textAlign=\"center\">\n            <Button\n              variant=\"contained\"\n              onClick={buttonHandler}\n              className=\"button\"\n              name=\"Create Vote\"\n              sx={{ m: 2, alignItems: \"center\" }}\n            >\n              Create Vote\n            </Button>\n          </Box>\n          <Snackbar\n            open={Popup}\n            autoHideDuration={2000}\n            onClose={handleClose}\n            message={popupText}\n            action={action}\n          />\n        </Paper>\n      </Box>\n\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <Grid container>\n            <Grid item>\n              <Key sx={{ fontSize: 45 }} color=\"primary\" />\n            </Grid>\n\n            <Grid item>\n              <Grid item>\n                <Typography variant=\"h5\" display=\"block\">\n                  Vote Keys\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"secondary\"\n                  display=\"block\"\n                  style={{ lineHeight: \"15px\" }}\n                >\n                  Distribute vote keys between voters\n                </Typography>\n              </Grid>\n            </Grid>\n            <Box textAlign=\"right\" sx={{ flexGrow: 1 }}>\n              <Button\n                sx={{ margin: 1 }}\n                variant=\"contained\"\n                onClick={exportVoteKeys}\n              >\n                Export CSV\n              </Button>\n              <Button variant=\"contained\" onClick={copyVoteKeys}>\n                Copy To Clipboard\n              </Button>\n            </Box>\n          </Grid>\n\n          <List\n            sx={{\n              width: \"100%\",\n              bgcolor: \"background.paper\",\n              borderRadius: \"16px\",\n              position: \"relative\",\n              overflow: \"auto\",\n              maxHeight: 300,\n              \"& ul\": { padding: 0 },\n            }}\n            subheader={<li />}\n          >\n            {[0].map((sectionId) => (\n              <li key={`section-${sectionId}`}>\n                <ul>\n                  {voteKeys.map((item) => (\n                    <ListItem key={`item-${sectionId}-${item}`}>\n                      <ListItemText primary={`${item}`} />\n                    </ListItem>\n                  ))}\n                </ul>\n              </li>\n            ))}\n          </List>\n        </Paper>\n      </Box>\n\n      {/* <Button variant=\"contained\" sx={{ borderColor: \"primary\" }}>\n        <QuestionMark />\n      </Button>\n      <IconButton\n        aria-label=\"delete\"\n        size=\"large\"\n        sx={{ position: \"fixed\", bottom: 16, right: 16 }}\n      >\n        <QuestionMark fontSize=\"inherit\" />\n      </IconButton> */}\n      <HelpPopup\n        heading=\"Help Heading\"\n        content=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\"\n      ></HelpPopup>\n    </Container>\n  );\n};\n\nexport default MainView;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport {\n  LoginScreenVote,\n  LoginScreenCreateVote,\n  LandingScreen,\n} from \"./LoginScreen\";\nimport { LogoutConfirm, PageNotFound } from \"./CatchNotFound\";\nimport MainScreen from \"./MainScreen\";\nimport VoteManagement from \"./VoteManagement\";\nimport VoteScreen from \"./VoteScreen\";\nimport DamlLedger from \"@daml/react\";\nimport Credentials from \"../Credentials\";\nimport { httpBaseUrl } from \"../config\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport VoteAnalytics from \"./VoteAnalytics\";\nimport MainView from \"./MainView\";\nimport { createTheme, ThemeProvider, useMediaQuery } from \"@mui/material\";\n\nexport function themeSwitcher() {}\n\nconst App: React.FC = () => {\n  const [credentials, setCredentials] = React.useState<\n    Credentials | undefined\n  >();\n  // create a dark theme light theme switcher\n  const preferedScheme = useMediaQuery(\"(prefers-color-scheme: dark)\");\n\n  const theme = React.useMemo(\n    () =>\n      createTheme({\n        palette: {\n          mode: preferedScheme ? \"dark\" : \"light\",\n          primary: {\n            main: \"#387DF6\",\n          },\n          secondary: {\n            main: \"#666666\",\n          },\n        },\n\n        typography: {\n          fontFamily: \"Roboto, sans-serif\",\n          subtitle1: {\n            fontSize: 16,\n          },\n          h5: {\n            fontWeight: 700,\n            fontSize: 24,\n          },\n          h6: {\n            fontWeight: 500,\n          },\n        },\n      }),\n    [preferedScheme]\n  );\n  // app.use((req: any, res: any, next: any) => {\n  //   res.header(\"Access-Control-Allow-Origin\", \"*\");\n  //   next();\n  // });\n\n  return credentials ? (\n    <DamlLedger\n      token={credentials.token}\n      party={credentials.party}\n      httpBaseUrl={httpBaseUrl}\n    >\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <div>\n          {/* <MainScreen onLogout={() => setCredentials(undefined)} /> */}\n\n          <Routes>\n            {/* <Route path=\"/\" component={Home} /> */}\n            <Route\n              path=\"/Vote\"\n              element={\n                <>\n                  <VoteScreen onLogout={() => setCredentials(undefined)} />\n                </>\n              }\n            ></Route>\n            <Route\n              path=\"/CreateVote\"\n              element={\n                <>\n                  <MainScreen onLogout={() => setCredentials(undefined)} />\n                  <MainView />\n                </>\n              }\n            ></Route>\n            <Route\n              path=\"/VoteAnalytics\"\n              element={\n                <>\n                  <MainScreen onLogout={() => setCredentials(undefined)} />\n                  <VoteAnalytics />\n                </>\n              }\n            ></Route>\n            <Route\n              path=\"/VoteManagement\"\n              element={\n                <>\n                  <MainScreen onLogout={() => setCredentials(undefined)} />\n                  <VoteManagement />\n                </>\n              }\n            ></Route>\n\n            <Route\n              path=\"*\"\n              element={\n                <LogoutConfirm onLogout={() => setCredentials(undefined)} />\n              }\n            ></Route>\n          </Routes>\n        </div>\n      </ThemeProvider>\n    </DamlLedger>\n  ) : (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div>\n        <Routes>\n          {/* <Route path=\"/\" component={Home} /> */}\n\n          <Route\n            path=\"/\"\n            element={<LandingScreen onLogin={setCredentials} />}\n          ></Route>\n          <Route\n            path=\"/VoteLogin\"\n            element={<LoginScreenVote onLogin={setCredentials} />}\n          ></Route>\n          <Route\n            path=\"/CreateVoteLogin\"\n            element={<LoginScreenCreateVote onLogin={setCredentials} />}\n          ></Route>\n          <Route path=\"*\" element={<PageNotFound />}></Route>\n        </Routes>\n      </div>\n    </ThemeProvider>\n\n    //\n  );\n};\n// APP_END\n\nexport default App;\n","\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Auth0Provider } from '@auth0/auth0-react';\r\n\r\nconst Auth0ProviderWithHistory = ({ children }) => {\r\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\r\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\r\n  const navigate = useNavigate();\r\n\r\n  const onRedirectCallback = (appState) => {\r\n    navigate(appState?.returnTo || window.location.pathname);\r\n  };\r\n\r\n  return (\r\n    <Auth0Provider\r\n      domain={domain}\r\n      clientId={clientId}\r\n      redirectUri={window.location.origin}\r\n      onRedirectCallback={onRedirectCallback}\r\n    >\r\n      {children}\r\n    </Auth0Provider>\r\n  );\r\n};\r\n\r\nexport default Auth0ProviderWithHistory;","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Auth0ProviderWithHistory from \"./auth/auth0-provider-with-history.js\";\n\n// import { Auth0Provider } from \"@auth0/auth0-react\";\n\nReactDOM.render(\n  <Router>\n    <Auth0ProviderWithHistory>\n      <App />\n    </Auth0ProviderWithHistory>\n  </Router>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}