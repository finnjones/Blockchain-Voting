{"version":3,"sources":["../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/index.js","../daml.js/create-daml-app-0.1.0/lib/index.js","../daml.js/create-daml-app-0.1.0/lib/User/index.js","../daml.js/create-daml-app-0.1.0/lib/User/module.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/module.js","../daml.js/create-daml-app-0.1.0/lib/Voting/index.js","../daml.js/create-daml-app-0.1.0/lib/Voting/module.js","config.ts","components/LoginScreen.tsx","components/VoteScreen.tsx","components/MainScreen.tsx","components/VoteAnalitics.tsx","components/UserList.tsx","components/MainView.tsx","components/App.tsx","index.tsx"],"names":["Object","defineProperty","exports","value","DA","require","packageId","User","Voting","m","p","hasOwnProperty","__export","jtv","damlTypes","pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662","CreateVote","decoder","lazyMemo","object","inputSubject","Text","encode","__typed__","Vote","vote","Bool","Follow","userToFollow","Party","templateId","keyDecoder","keyEncode","username","following","List","votes","subject","template","choiceName","argumentDecoder","argumentEncode","resultDecoder","ContractId","resultEncode","Archive","Internal","Template","Unit","registerTemplate","voter","voted","candidates","authConfig","window","location","hostname","endsWith","provider","ledgerId","process","REACT_APP_LEDGER_ID","split","REACT_APP_AUTH","toLowerCase","REACT_APP_AUTH0_DOMAIN","REACT_APP_AUTH0_CLIENT_ID","domain","clientId","Error","makeToken","party","payload","httpBaseUrl","undefined","LoginScreen","onLogin","login","useCallback","credentials","a","ledger","Ledger","token","fetchByKey","user","create","alert","JSON","stringify","wrap","component","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","size","color","Content","Form","className","Segment","InsecureLogin","auth","React","useState","setUsername","handleLogin","event","preventDefault","TextField","placeholder","sx","paddingBottom","width","onChange","e","currentTarget","onKeyPress","key","Button","variant","onClick","DamlHubLogin","useEffect","url","URL","toString","searchParams","get","search","history","replaceState","state","name","document","cookie","match","pop","getCookieValue","assign","Auth0Login","useAuth0","isAuthenticated","isLoading","getAccessTokenSilently","loginWithRedirect","audience","creds","LoginScreenCreateVote","VoteScreen","useParty","useLedger","myUserResult","useStreamFetchByKeys","assets","useStreamQueries","myUser","contracts","radioStatus","setRadioStatus","buttonHandler","includes","exerciseByKey","signatories","catch","console","error","log","Container","centered","columns","Row","stretched","padding","Ballot","fontSize","Subheader","Divider","Box","FormControl","FormLabel","id","RadioGroup","defaultValue","map","item","ListItem","FormControlLabel","control","Radio","label","alignItems","MainScreen","onLogout","useTheme","open","setOpen","Menu","icon","borderless","Item","Image","href","target","src","alt","position","active","flexGrow","AppBar","Toolbar","IconButton","edge","Typography","noWrap","startIcon","Logout","Drawer","anchor","onClose","role","button","Link","to","ListItemIcon","ListItemText","primary","Poll","VoteAnalitics","data01","useMemo","colours","i","length","push","Math","floor","random","votesFrequency","Map","forEach","has","set","Paper","borderRadius","elevation","container","spacing","direction","display","lineHeight","BarChart","data","Bar","dataKey","fill","Tooltip","PieChart","Pie","cx","cy","isAnimationActive","UserList","users","onFollow","divided","relaxed","sort","x","y","localeCompare","Icon","floated","link","voteKeys","MainView","candidateList","setCandidateList","setValue","subjectText","setSubjectText","candidateText","setCandidateText","allUsers","followers","filter","VoteKeys","generateVoteKeys","voteDetails","voterCount","randomBytes","follow","addCandidate","handleClose","reason","action","Fragment","Close","flexWrap","pt","Slider","valueLabelDisplay","secondaryAction","Delete","ButtonGroup","Snackbar","autoHideDuration","message","Key","bgcolor","overflow","maxHeight","subheader","sectionId","observers","theme","createTheme","palette","main","secondary","typography","fontFamily","subtitle1","h5","fontWeight","h6","App","setCredentials","ThemeProvider","path","element","ReactDOM","render","getElementById","redirectUri","origin"],"mappings":"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","file":"static/js/main.7e924c9f.chunk.js","sourcesContent":["\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DA = require('./DA');\nexports.DA = DA;\nexports.packageId = 'd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662';\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar User = require('./User');\nexports.User = User;\nvar Voting = require('./Voting');\nexports.Voting = Voting;\nexports.packageId = 'c49f8dc6f8b550d45b85fb235a0273f1288ca45e9ba4c9e7facf32c0e0f7a680';\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\nvar pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662 = require('@daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662');\n\n\nexports.CreateVote = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({inputSubject: damlTypes.Text.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    inputSubject: damlTypes.Text.encode(__typed__.inputSubject),\n  };\n}\n,\n};\n\n\n\nexports.Vote = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({vote: damlTypes.Bool.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    vote: damlTypes.Bool.encode(__typed__.vote),\n  };\n}\n,\n};\n\n\n\nexports.Follow = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({userToFollow: damlTypes.Party.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    userToFollow: damlTypes.Party.encode(__typed__.userToFollow),\n  };\n}\n,\n};\n\n\n\nexports.User = {\n  templateId: 'c49f8dc6f8b550d45b85fb235a0273f1288ca45e9ba4c9e7facf32c0e0f7a680:User:User',\n  keyDecoder: damlTypes.lazyMemo(function () { return damlTypes.lazyMemo(function () { return damlTypes.Party.decoder; }); }),\n  keyEncode: function (__typed__) { return damlTypes.Party.encode(__typed__); },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({username: damlTypes.Party.decoder, following: damlTypes.List(damlTypes.Party).decoder, votes: damlTypes.List(damlTypes.Bool).decoder, subject: damlTypes.Text.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    username: damlTypes.Party.encode(__typed__.username),\n    following: damlTypes.List(damlTypes.Party).encode(__typed__.following),\n    votes: damlTypes.List(damlTypes.Bool).encode(__typed__.votes),\n    subject: damlTypes.Text.encode(__typed__.subject),\n  };\n}\n,\n  Follow: {\n    template: function () { return exports.User; },\n    choiceName: 'Follow',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.Follow.decoder; }),\n    argumentEncode: function (__typed__) { return exports.Follow.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.User).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.User).encode(__typed__); },\n  },\n  Vote: {\n    template: function () { return exports.User; },\n    choiceName: 'Vote',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.Vote.decoder; }),\n    argumentEncode: function (__typed__) { return exports.Vote.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.User).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.User).encode(__typed__); },\n  },\n  Archive: {\n    template: function () { return exports.User; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n  CreateVote: {\n    template: function () { return exports.User; },\n    choiceName: 'CreateVote',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.CreateVote.decoder; }),\n    argumentEncode: function (__typed__) { return exports.CreateVote.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.User).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.User).encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.User);\n\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Internal = require('./Internal');\nexports.Internal = Internal;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Template = require('./Template');\nexports.Template = Template;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\n\nexports.Archive = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({}); }),\n  encode: function (__typed__) {\n  return {\n  };\n}\n,\n};\n\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\nvar pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662 = require('@daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662');\n\n\nexports.Vote = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({voter: damlTypes.Party.decoder, vote: damlTypes.Text.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    voter: damlTypes.Party.encode(__typed__.voter),\n    vote: damlTypes.Text.encode(__typed__.vote),\n  };\n}\n,\n};\n\n\n\nexports.Voting = {\n  templateId: 'c49f8dc6f8b550d45b85fb235a0273f1288ca45e9ba4c9e7facf32c0e0f7a680:Voting:Voting',\n  keyDecoder: damlTypes.lazyMemo(function () { return damlTypes.lazyMemo(function () { return damlTypes.Party.decoder; }); }),\n  keyEncode: function (__typed__) { return damlTypes.Party.encode(__typed__); },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({username: damlTypes.Party.decoder, following: damlTypes.List(damlTypes.Party).decoder, votes: damlTypes.List(damlTypes.Text).decoder, voted: damlTypes.List(damlTypes.Party).decoder, candidates: damlTypes.List(damlTypes.Text).decoder, subject: damlTypes.Text.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    username: damlTypes.Party.encode(__typed__.username),\n    following: damlTypes.List(damlTypes.Party).encode(__typed__.following),\n    votes: damlTypes.List(damlTypes.Text).encode(__typed__.votes),\n    voted: damlTypes.List(damlTypes.Party).encode(__typed__.voted),\n    candidates: damlTypes.List(damlTypes.Text).encode(__typed__.candidates),\n    subject: damlTypes.Text.encode(__typed__.subject),\n  };\n}\n,\n  Archive: {\n    template: function () { return exports.Voting; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n  Vote: {\n    template: function () { return exports.Voting; },\n    choiceName: 'Vote',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.Vote.decoder; }),\n    argumentEncode: function (__typed__) { return exports.Vote.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.Voting).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.Voting).encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.Voting);\n\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { encode } from 'jwt-simple';\n\nexport type Insecure = {\n  provider: \"none\",\n  makeToken: (party: string) => string,\n  ledgerId: string\n};\n\nexport type DamlHub = {\n  provider: \"daml-hub\",\n  ledgerId: string\n};\n\nexport type Auth0 =  {\n  provider: \"auth0\",\n  domain: string,\n  clientId: string\n};\n\nexport type Authentication = Insecure | DamlHub | Auth0;\n\nexport const authConfig: Authentication = (() => {\n  if (window.location.hostname.endsWith('.projectdabls.com')) {\n    const auth: DamlHub = {\n      provider: \"daml-hub\",\n      ledgerId: process.env.REACT_APP_LEDGER_ID ?? window.location.hostname.split('.')[0]\n    };\n    return auth;\n  } else if (process.env.REACT_APP_AUTH && process.env.REACT_APP_AUTH.toLowerCase() === \"auth0\") {\n    if (process.env.REACT_APP_AUTH0_DOMAIN && process.env.REACT_APP_AUTH0_CLIENT_ID) {\n      const auth: Auth0 = {\n        provider: \"auth0\",\n        domain: process.env.REACT_APP_AUTH0_DOMAIN,\n        clientId: process.env.REACT_APP_AUTH0_CLIENT_ID\n      };\n      return auth;\n    } else {\n      throw new Error(\"Missing env vars: AUTH0_DOMAIN & AUTH0_CLIENT_ID must be set.\");\n    }\n  } else {\n    const ledgerId: string = process.env.REACT_APP_LEDGER_ID ?? \"create-daml-app-sandbox\"\n    const auth: Insecure = {\n      provider: \"none\",\n      ledgerId: ledgerId,\n      makeToken: (party) => {\n        const payload = {\n          \"https://daml.com/ledger-api\": {\n            \"ledgerId\": ledgerId,\n            \"applicationId\": 'create-daml-app',\n            \"actAs\": [party]\n          }\n        }\n        return encode(payload, \"secret\", \"HS256\");\n      }\n    };\n    return auth;\n  }\n})();\n\nexport const httpBaseUrl =\n  authConfig.provider === \"daml-hub\"\n  ? `https://api.projectdabl.com/data/${authConfig.ledgerId}/`\n  : undefined;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback, useEffect } from \"react\";\nimport { Form, Grid, Header, Image, Segment } from \"semantic-ui-react\";\nimport { Button, TextField } from \"@mui/material\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { User, Voting } from \"@daml.js/create-daml-app\";\nimport { authConfig, httpBaseUrl, Insecure, DamlHub } from \"../config\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport * as damlTypes from \"@daml/types\";\n\ntype Props = {\n  onLogin: (credentials: Credentials) => void;\n};\n/**\n * React component for the login screen of the `App`.\n */\nexport const LoginScreen: React.FC<Props> = ({ onLogin }) => {\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          User.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          // const voteBob = useQuery()\n\n          const user = {\n            username: credentials.party,\n            following: [],\n            votes: [],\n            subject: \"\",\n          };\n          userContract = await ledger.create(User.User, user);\n        }\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n\n  const wrap: (c: JSX.Element) => JSX.Element = (component) => (\n    <Grid textAlign=\"center\" style={{ height: \"100vh\" }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header\n          as=\"h1\"\n          textAlign=\"center\"\n          size=\"huge\"\n          style={{ color: \"#223668\" }}\n        >\n          <Header.Content>Block Cast</Header.Content>\n        </Header>\n        <Header\n          as=\"h2\"\n          textAlign=\"center\"\n          size=\"small\"\n          style={{ color: \"#223668\" }}\n        >\n          Secure Voting On The Blockchain\n        </Header>\n\n        <Form size=\"huge\" className=\"test-select-login-screen\">\n          <Segment>{component}</Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n  );\n\n  const InsecureLogin: React.FC<{ auth: Insecure }> = ({ auth }) => {\n    const [username, setUsername] = React.useState(\"\");\n\n    const handleLogin = async (event: React.FormEvent) => {\n      event.preventDefault();\n      await login({ party: username, token: auth.makeToken(username) });\n    };\n\n    return wrap(\n      <>\n        {/* FORM_BEGIN */}\n        <TextField\n          placeholder=\"Vote Key\"\n          value={username}\n          className=\"test-select-username-field\"\n          sx={{ paddingBottom: 2 }}\n          style={{ width: \"100%\" }}\n          onChange={(e) => setUsername(e.currentTarget.value)}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              e.preventDefault();\n              handleLogin(e);\n              // console.log(ev.target.value);\n            }\n          }}\n        />\n\n        <Button\n          variant=\"contained\"\n          className=\"test-select-login-button\"\n          onClick={handleLogin}\n          style={{ width: \"100%\" }}\n        >\n          Log in\n        </Button>\n\n        {/* FORM_END */}\n      </>\n    );\n  };\n\n  const DamlHubLogin: React.FC<{ auth: DamlHub }> = ({ auth }) => {\n    const handleDamlHubLogin = () => {\n      window.location.assign(\n        `https://login.projectdabl.com/auth/login?ledgerId=${auth.ledgerId}`\n      );\n    };\n    const getCookieValue = (name: string): string =>\n      document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\")?.pop() ||\n      \"\";\n    useEffect(() => {\n      const url = new URL(window.location.toString());\n      const party = url.searchParams.get(\"party\");\n      if (party === null) {\n        return;\n      }\n      url.search = \"\";\n      window.history.replaceState(window.history.state, \"\", url.toString());\n      const token = getCookieValue(\"DAMLHUB_LEDGER_ACCESS_TOKEN\");\n      login({ token, party });\n    }, []);\n\n    return wrap(\n      <Button variant=\"contained\" onClick={handleDamlHubLogin}>\n        Log in with Daml Hub\n      </Button>\n    );\n  };\n\n  const Auth0Login: React.FC = () => {\n    const {\n      user,\n      isAuthenticated,\n      isLoading,\n      loginWithRedirect,\n      getAccessTokenSilently,\n    } = useAuth0();\n    (async function () {\n      if (isLoading === false && isAuthenticated === true) {\n        if (user !== undefined) {\n          const creds: Credentials = {\n            party: user[\"https://daml.com/ledger-api\"],\n            token: await getAccessTokenSilently({\n              audience: \"https://daml.com/ledger-api\",\n            }),\n          };\n          login(creds);\n        }\n      }\n    })();\n    return wrap(\n      <Button\n      // primary\n      // fluid\n      // className='test-select-login-button'\n      // disabled={isLoading || isAuthenticated}\n      // loading={isLoading || isAuthenticated}\n      // onClick={loginWithRedirect}\n      >\n        Log in\n      </Button>\n    );\n  };\n\n  if (authConfig.provider === \"none\") {\n  } else if (authConfig.provider === \"daml-hub\") {\n  } else if (authConfig.provider === \"auth0\") {\n  }\n  return authConfig.provider === \"none\" ? (\n    <InsecureLogin auth={authConfig} />\n  ) : authConfig.provider === \"daml-hub\" ? (\n    <DamlHubLogin auth={authConfig} />\n  ) : authConfig.provider === \"auth0\" ? (\n    <Auth0Login />\n  ) : (\n    <div>Invalid configuation.</div>\n  );\n};\n\n// export default LoginScreen;\n// function token(token: any) {\n//   throw new Error(\"Function not implemented.\");\n// }\n\nexport const LoginScreenCreateVote: React.FC<Props> = ({ onLogin }) => {\n  const login = useCallback(\n    async (credentials: Credentials) => {\n      try {\n        const ledger = new Ledger({ token: credentials.token, httpBaseUrl });\n        let userContract = await ledger.fetchByKey(\n          User.User,\n          credentials.party\n        );\n\n        if (userContract === null) {\n          // const voteBob = useQuery()\n\n          const user = {\n            username: credentials.party,\n            following: [],\n            votes: [],\n            subject: \"\",\n          };\n          userContract = await ledger.create(User.User, user);\n        }\n        onLogin(credentials);\n      } catch (error) {\n        alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      }\n    },\n    [onLogin]\n  );\n\n  const wrap: (c: JSX.Element) => JSX.Element = (component) => (\n    <Grid textAlign=\"center\" style={{ height: \"100vh\" }} verticalAlign=\"middle\">\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header\n          as=\"h1\"\n          textAlign=\"center\"\n          size=\"huge\"\n          style={{ color: \"#223668\" }}\n        >\n          <Header.Content>Block Cast</Header.Content>\n        </Header>\n        <Header\n          as=\"h2\"\n          textAlign=\"center\"\n          size=\"small\"\n          style={{ color: \"#223668\" }}\n        >\n          Secure Voting On The Blockchain\n        </Header>\n\n        <Form size=\"huge\" className=\"test-select-login-screen\">\n          <Segment>{component}</Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n  );\n\n  const InsecureLogin: React.FC<{ auth: Insecure }> = ({ auth }) => {\n    const [username, setUsername] = React.useState(\"\");\n\n    const handleLogin = async (event: React.FormEvent) => {\n      event.preventDefault();\n      await login({ party: username, token: auth.makeToken(username) });\n    };\n\n    return wrap(\n      <>\n        {/* FORM_BEGIN */}\n        <TextField\n          placeholder=\"Username\"\n          value={username}\n          className=\"test-select-username-field\"\n          sx={{ paddingBottom: 2 }}\n          style={{ width: \"100%\" }}\n          onChange={(e) => setUsername(e.currentTarget.value)}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              e.preventDefault();\n              handleLogin(e);\n              // console.log(ev.target.value);\n            }\n          }}\n        />\n\n        <Button\n          variant=\"contained\"\n          className=\"test-select-login-button\"\n          onClick={handleLogin}\n          style={{ width: \"100%\" }}\n        >\n          Log in\n        </Button>\n\n        {/* FORM_END */}\n      </>\n    );\n  };\n\n  const DamlHubLogin: React.FC<{ auth: DamlHub }> = ({ auth }) => {\n    const handleDamlHubLogin = () => {\n      window.location.assign(\n        `https://login.projectdabl.com/auth/login?ledgerId=${auth.ledgerId}`\n      );\n    };\n    const getCookieValue = (name: string): string =>\n      document.cookie.match(\"(^|;)\\\\s*\" + name + \"\\\\s*=\\\\s*([^;]+)\")?.pop() ||\n      \"\";\n    useEffect(() => {\n      const url = new URL(window.location.toString());\n      const party = url.searchParams.get(\"party\");\n      if (party === null) {\n        return;\n      }\n      url.search = \"\";\n      window.history.replaceState(window.history.state, \"\", url.toString());\n      const token = getCookieValue(\"DAMLHUB_LEDGER_ACCESS_TOKEN\");\n      login({ token, party });\n    }, []);\n\n    return wrap(\n      <Button variant=\"contained\" onClick={handleDamlHubLogin}>\n        Log in with Daml Hub\n      </Button>\n    );\n  };\n\n  const Auth0Login: React.FC = () => {\n    const {\n      user,\n      isAuthenticated,\n      isLoading,\n      loginWithRedirect,\n      getAccessTokenSilently,\n    } = useAuth0();\n    (async function () {\n      if (isLoading === false && isAuthenticated === true) {\n        if (user !== undefined) {\n          const creds: Credentials = {\n            party: user[\"https://daml.com/ledger-api\"],\n            token: await getAccessTokenSilently({\n              audience: \"https://daml.com/ledger-api\",\n            }),\n          };\n          login(creds);\n        }\n      }\n    })();\n    return wrap(\n      <Button\n      // primary\n      // fluid\n      // className='test-select-login-button'\n      // disabled={isLoading || isAuthenticated}\n      // loading={isLoading || isAuthenticated}\n      // onClick={loginWithRedirect}\n      >\n        Log in\n      </Button>\n    );\n  };\n\n  if (authConfig.provider === \"none\") {\n  } else if (authConfig.provider === \"daml-hub\") {\n  } else if (authConfig.provider === \"auth0\") {\n  }\n  return authConfig.provider === \"none\" ? (\n    <InsecureLogin auth={authConfig} />\n  ) : authConfig.provider === \"daml-hub\" ? (\n    <DamlHubLogin auth={authConfig} />\n  ) : authConfig.provider === \"auth0\" ? (\n    <Auth0Login />\n  ) : (\n    <div>Invalid configuation.</div>\n  );\n};\n\n// export default LoginScreenCreateVote;\n// function token(token: any) {\n//   throw new Error(\"Function not implemented.\");\n// }\n","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Grid, Header, Segment, Divider, Form, Icon } from \"semantic-ui-react\";\nimport {\n  Button,\n  List,\n  ListItem,\n  Container,\n  FormLabel,\n  FormControlLabel,\n  ListItemText,\n  RadioGroup,\n  FormControl,\n  Radio,\n  Box,\n} from \"@mui/material\";\nimport { Key, Ballot } from \"@mui/icons-material\";\nimport { Party } from \"@daml/types\";\nimport { User, Voting } from \"@daml.js/create-daml-app\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { httpBaseUrl } from \"../config\";\nimport {\n  useParty,\n  useLedger,\n  useStreamFetchByKeys,\n  useStreamQueries,\n} from \"@daml/react\";\nimport UserList from \"./UserList\";\nimport PartyListEdit from \"./PartyListEdit\";\n\nconst VoteScreen: React.FC = () => {\n  const username = useParty();\n  const ledger = useLedger();\n\n  const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n    username,\n  ]);\n  const assets = useStreamQueries(Voting.Voting);\n  const myUser = myUserResult.contracts[0]?.payload;\n  const [radioStatus, setRadioStatus] = useState(\"\");\n\n  const buttonHandler = async () => {\n    if (assets.contracts[0]?.payload.voted.includes(username)) {\n      alert(\"You have already voted\");\n    } else {\n      await ledger\n        .exerciseByKey(\n          Voting.Voting.Vote,\n          assets.contracts[0]?.signatories[0],\n          { voter: username, vote: radioStatus }\n        )\n        .catch(console.error);\n    }\n    console.log(assets.contracts[0]?.payload.voted);\n  };\n  //   const handleRadioButton = (event: any) => {\n  //     console.log(event);\n  //   };\n\n  return (\n    <Container>\n      <Grid centered columns={2}>\n        <Grid.Row stretched>\n          <Grid.Column>\n            <Header\n              as=\"h1\"\n              size=\"huge\"\n              color=\"blue\"\n              textAlign=\"center\"\n              style={{ padding: \"1ex 0em 0ex 0em\" }}\n            >\n              {myUser ? `Welcome, ${myUser.username}!` : \"Loading...\"}\n            </Header>\n            <Segment>\n              <Header as=\"h2\">\n                <Ballot sx={{ fontSize: 45 }} color=\"primary\" />\n                <Header.Content>\n                  Vote\n                  <Header.Subheader>\n                    Read the vote description carefully and choose an option\n                  </Header.Subheader>\n                </Header.Content>\n              </Header>\n              <Divider />\n              <Header as=\"h3\">Vote Description</Header>\n              {assets.contracts[0]?.payload?.subject ?? \"Loading...\"}\n              <Divider />\n              <Box textAlign=\"center\">\n                <FormControl>\n                  <FormLabel id=\"demo-radio-buttons-group-label\">\n                    Options\n                  </FormLabel>\n                  <RadioGroup\n                    aria-labelledby=\"demo-radio-buttons-group-label\"\n                    defaultValue=\"female\"\n                    name=\"radio-buttons-group\"\n                  >\n                    <List>\n                      {assets.contracts[0]?.payload?.candidates.map((item) => (\n                        <ListItem\n                          key={item}\n                          //   secondaryAction={\n\n                          //   }\n                        >\n                          <FormControlLabel\n                            value={item}\n                            control={<Radio />}\n                            label={item}\n                            onChange={(event) => {\n                              console.log(item);\n                              setRadioStatus(item);\n                            }}\n                          />\n                        </ListItem>\n                      ))}\n                    </List>\n                  </RadioGroup>\n                </FormControl>\n              </Box>\n              <Box textAlign=\"center\">\n                <Button\n                  variant=\"contained\"\n                  onClick={buttonHandler}\n                  className=\"button\"\n                  name=\"Create Vote\"\n                  sx={{ m: 2, alignItems: \"center\" }}\n                >\n                  Vote\n                </Button>\n              </Box>\n            </Segment>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default VoteScreen;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport { Image, Menu } from \"semantic-ui-react\";\nimport MainView from \"./MainView\";\nimport VoteScreen from \"./VoteScreen\";\nimport { useParty } from \"@daml/react\";\nimport {\n  Typography,\n  Box,\n  IconButton,\n  Toolbar,\n  CssBaseline,\n  Drawer,\n  Divider,\n  Button,\n  List,\n  ListItem,\n  ListItemButton,\n  ListItemIcon,\n  ListItemText,\n  AppBar,\n} from \"@mui/material\";\n\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\nimport { styled, useTheme, Theme, CSSObject } from \"@mui/material/styles\";\nimport MuiAppBar, { AppBarProps as MuiAppBarProps } from \"@mui/material/AppBar\";\nimport MuiDrawer from \"@mui/material/Drawer\";\nimport MenuIcon from \"@mui/icons-material/Menu\";\nimport { Ballot, Poll, Logout } from \"@mui/icons-material\";\nimport { useStreamFetchByKeys } from \"@daml/react\";\nimport { User } from \"@daml.js/create-daml-app\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ChevronLeftIcon from \"@mui/icons-material/ChevronLeft\";\nimport ChevronRightIcon from \"@mui/icons-material/ChevronRight\";\nimport VoteAnalitics from \"./VoteAnalitics\";\ntype Props = {\n  onLogout: () => void;\n};\n\n/**\n * React component for the main screen of the `App`.\n */\n\nconst MainScreen: React.FC<Props> = ({ onLogout }) => {\n  // console.log(useParty)\n  // username.indexOf(\"VoteKey\")\n  const drawerWidth = 240;\n\n  interface AppBarProps extends MuiAppBarProps {\n    open?: boolean;\n  }\n\n  const username = useParty();\n  console.log(username);\n  const theme = useTheme();\n  const [open, setOpen] = React.useState(false);\n  const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n    username,\n  ]);\n  const myUser = myUserResult.contracts[0]?.payload;\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n\n  if (username.includes(\"VoteKey\")) {\n    return (\n      <>\n        <Menu icon borderless>\n          <Menu.Item>\n            <Image\n              as=\"a\"\n              href=\"https://www.daml.com/\"\n              target=\"_blank\"\n              src=\"/daml.svg\"\n              alt=\"Daml Logo\"\n              size=\"mini\"\n            />\n          </Menu.Item>\n          <Menu.Menu position=\"right\" className=\"test-select-main-menu\">\n            <Menu.Item position=\"right\">\n              You are logged in as {username}.\n            </Menu.Item>\n            <Menu.Item\n              position=\"right\"\n              active={false}\n              className=\"test-select-log-out\"\n              onClick={onLogout}\n              icon=\"log out\"\n            />\n          </Menu.Menu>\n        </Menu>\n        <VoteScreen />\n      </>\n    );\n  } else {\n    return (\n      // Create app bar with menu button\n      // Create ui drawer with menu button\n\n      <>\n        <Box sx={{ flexGrow: 1 }}>\n          <AppBar position=\"static\">\n            <Toolbar>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"open drawer\"\n                edge=\"start\"\n                onClick={handleDrawerOpen}\n                className=\"menu-button\"\n              >\n                <MenuIcon />\n              </IconButton>\n\n              <Typography\n                variant=\"h5\"\n                sx={{ flexGrow: 1 }}\n                onClick={onLogout}\n                noWrap\n              >\n                Blockvote\n              </Typography>\n              {/* <Typography variant=\"h6\">\n                You are logged in as {username}\n              </Typography> */}\n\n              {/* create a logout button */}\n              <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                startIcon={<Logout />}\n                onClick={onLogout}\n              >\n                Log Out\n              </Button>\n\n              {/* <Button color=\"inherit\">Login</Button> */}\n            </Toolbar>\n          </AppBar>\n        </Box>\n        <Typography\n          variant=\"h3\"\n          textAlign=\"center\"\n          color=\"primary\"\n          sx={{ padding: 3 }}\n        >\n          {myUser ? `Welcome, ${myUser.username}!` : \"Loading...\"}\n        </Typography>\n        <Drawer anchor=\"left\" open={open} onClose={() => setOpen(false)}>\n          <Box p={2} width=\"250px\" textAlign=\"center\" role=\"presentation\">\n            <Typography variant=\"h6\" component=\"div\">\n              Menu\n            </Typography>\n            <List>\n              <ListItem\n                button\n                component={Link}\n                to=\"/CreateVote\"\n                className=\"test-select-list-item\"\n              >\n                <ListItemIcon>\n                  <Ballot />\n                </ListItemIcon>\n                <ListItemText primary=\"Create Vote\" />\n              </ListItem>\n\n              <ListItem\n                button\n                component={Link}\n                to=\"/VoteAnalitics\"\n                className=\"test-select-list-item\"\n              >\n                <ListItemIcon>\n                  <Poll />\n                </ListItemIcon>\n                <ListItemText primary=\"Analitics\" />\n              </ListItem>\n            </List>\n          </Box>\n        </Drawer>\n      </>\n    );\n  }\n};\n\nexport default MainScreen;\n","import React, { useMemo, useCallback, useState } from \"react\";\nimport { Header, Segment, Form, Icon } from \"semantic-ui-react\";\nimport {\n  Button,\n  List,\n  Divider,\n  ListItem,\n  Grid,\n  Container,\n  Paper,\n  FormLabel,\n  FormControlLabel,\n  ListItemText,\n  Typography,\n  RadioGroup,\n  FormControl,\n  Radio,\n  Box,\n} from \"@mui/material\";\nimport { Key, Ballot, Poll } from \"@mui/icons-material\";\nimport { Party } from \"@daml/types\";\nimport { User, Voting } from \"@daml.js/create-daml-app\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { httpBaseUrl } from \"../config\";\nimport {\n  useParty,\n  useLedger,\n  useStreamFetchByKeys,\n  useStreamQueries,\n} from \"@daml/react\";\n\n// import { PieChart } from \"react-minimal-pie-chart\";\nimport { Pie, PieChart, Tooltip, Bar, BarChart, Cell } from \"recharts\";\n\nconst VoteAnalitics: React.FC = () => {\n  const username = useParty();\n  const ledger = useLedger();\n\n  const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n    username,\n  ]);\n  const assets = useStreamQueries(Voting.Voting);\n  const myUser = myUserResult.contracts[0]?.payload;\n  const [radioStatus, setRadioStatus] = useState(\"\");\n  const data01 = [\n    {\n      name: \"Person A\",\n      value: 400,\n    },\n    {\n      name: \"Person B\",\n      value: 300,\n    },\n    {\n      name: \"Person C\",\n      value: 300,\n    },\n    {\n      name: \"Person D\",\n      value: 200,\n    },\n    {\n      name: \"Person E\",\n      value: 278,\n    },\n    {\n      name: \"Person F\",\n      value: 189,\n    },\n  ];\n  // generate list of colours based on length of data01\n  const colours = useMemo(() => {\n    const colours = [];\n    for (let i = 0; i < data01.length; i++) {\n      colours.push(\n        `rgb(${Math.floor(52)}, ${Math.floor(\n          Math.random() * 200\n        )}, ${Math.floor(255)})`\n      );\n    }\n    return colours;\n  }, [data01]);\n\n  // console.log(colours);\n\n  const votes = assets.contracts[0]?.payload?.votes || [];\n  // const votes = [\"steve\", \"steve\", \"john\"]\n\n  // convert votes list to frequency with format of {name: \"\", value: 0}\n  const votesFrequency = useMemo(() => {\n    const map = new Map<string, number>();\n    votes.forEach((vote) => {\n      if (map.has(vote)) {\n        map.set(vote, (map.get(vote) || 1) + 1);\n      } else {\n        map.set(vote, 1);\n      }\n    });\n    return [...map].map(([name, value]) => ({ name, value }));\n  }, [votes]);\n\n  console.log(votesFrequency);\n  // console.log(data);\n  const buttonHandler = async () => {\n    if (assets.contracts[0]?.payload.voted.includes(username)) {\n      alert(\"You have already voted\");\n    } else {\n      await ledger\n        .exerciseByKey(\n          Voting.Voting.Vote,\n          assets.contracts[0]?.signatories[0],\n          { voter: username, vote: radioStatus }\n        )\n        .catch(console.error);\n    }\n    console.log(assets.contracts[0]?.payload.voted);\n  };\n  //   const handleRadioButton = (event: any) => {\n  //     console.log(event);\n  //   };\n  // for (const [key, value] of map) {\n  //     console.log(key, value)\n  // }\n  return (\n    <Container>\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <Grid container spacing={0}>\n            <Grid item>\n              <Poll sx={{ fontSize: 50 }} color=\"primary\" />\n            </Grid>\n            <Grid direction=\"column\">\n              <Grid item>\n                <Typography variant=\"h5\" display=\"block\">\n                  Vote Analitics\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"secondary\"\n                  display=\"block\"\n                  style={{ lineHeight: \"15px\" }}\n                >\n                  View current vote results\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Divider />\n          <Typography variant=\"h5\">Vote Progress</Typography>\n\n          {/* <Chart data={data}>\n                  <PieSeries valueField=\"key\" argumentField=\"value\" />\n                  <Title text=\"Studies per day\" />\n                </Chart> */}\n          {/* <ResponsiveContainer width=\"100%\" height=\"100%\"> */}\n          <BarChart width={400} height={100} data={data01}>\n            <Bar dataKey=\"value\" fill=\"#8884d8\" />\n            <Tooltip />\n          </BarChart>\n\n          <PieChart width={400} height={400}>\n            <Pie\n              data={data01}\n              dataKey=\"value\"\n              cx={200}\n              cy={200}\n              // outerRadius={60}\n              isAnimationActive={false}\n              fill=\"#8884d8\"\n              label\n            ></Pie>\n          </PieChart>\n          {/* {data01.map((entry, index) => (\n                <Cell fill={colours[index % colours.length]} />\n              ))} */}\n          {/* </ResponsiveContainer> */}\n          {/* <PieChart width={400} height={400}>\n            <Pie\n              data={data01}\n              dataKey=\"value\"\n              cx={200}\n              cy={200}\n              outerRadius={60}\n              fill=\"#8884d8\"\n              label\n            />\n          </PieChart> */}\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default VoteAnalitics;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\r\n// SPDX-License-Identifier: Apache-2.0\r\n\r\nimport React from 'react'\r\nimport { Icon, List } from 'semantic-ui-react'\r\nimport { Party } from '@daml/types';\r\nimport { User } from '@daml.js/create-daml-app';\r\n\r\ntype Props = {\r\n  users: User.User[];\r\n  onFollow: (userToFollow: Party) => void;\r\n}\r\n\r\n/**\r\n * React component to display a list of `User`s.\r\n * Every party in the list can be added as a friend.\r\n */\r\nconst UserList: React.FC<Props> = ({users, onFollow}) => {\r\n  return (\r\n    <List divided relaxed>\r\n      {[...users].sort((x, y) => x.username.localeCompare(y.username)).map(user =>\r\n        <List.Item key={user.username}>\r\n          <List.Icon name='user' />\r\n          <List.Content>\r\n            <List.Content floated='right'>\r\n              <Icon\r\n                name='add user'\r\n                link\r\n                className='test-select-add-user-icon'\r\n                onClick={() => onFollow(user.username)} />\r\n            </List.Content>\r\n            <List.Header className='test-select-user-in-network'>{user.username}</List.Header>\r\n          </List.Content>\r\n          <List.List>\r\n            {[...user.following].sort((x, y) => x.localeCompare(y)).map(userToFollow =>\r\n              <List.Item key={userToFollow}>\r\n                <List.Content floated='right'>\r\n                  <Icon\r\n                    name='add user'\r\n                    link\r\n                    className='test-select-add-user-following-icon'\r\n                    onClick={() => onFollow(userToFollow)} />\r\n                </List.Content>\r\n                <List.Icon name='user outline' />\r\n                <List.Content>\r\n                  <List.Header>{userToFollow}</List.Header>\r\n                </List.Content>\r\n              </List.Item>\r\n            )}\r\n          </List.List>\r\n        </List.Item>\r\n      )}\r\n    </List>\r\n  );\r\n};\r\n\r\nexport default UserList;\r\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useMemo, useCallback, useState } from \"react\";\nimport { Header, Segment, Form, Icon } from \"semantic-ui-react\";\nimport {\n  Button,\n  Container,\n  Slider,\n  List,\n  ListItem,\n  ListItemText,\n  TextField,\n  Typography,\n  Box,\n  Snackbar,\n  Grid,\n  Divider,\n  ButtonGroup,\n  IconButton,\n  Paper,\n} from \"@mui/material\";\n// import Icon from '@mui/icons-material';\nimport { Key, Ballot, Delete, Close } from \"@mui/icons-material\";\n// import KeyIcon from '@mui/icons-material/Key';\n\nimport { Party } from \"@daml/types\";\nimport { User, Voting } from \"@daml.js/create-daml-app\";\nimport Credentials from \"../Credentials\";\nimport Ledger from \"@daml/ledger\";\nimport { httpBaseUrl } from \"../config\";\n\nimport {\n  useParty,\n  useLedger,\n  useStreamFetchByKeys,\n  useStreamQueries,\n} from \"@daml/react\";\nimport UserList from \"./UserList\";\nimport PartyListEdit from \"./PartyListEdit\";\n\nlet voteKeys: string[] = [];\n// var candidateList: string[] = [];\n\n// USERS_BEGIN\nconst MainView: React.FC = () => {\n  const username = useParty();\n  // const test = insecure.makeToken(username);\n  const initialList = [\"\"];\n  const [candidateList, setCandidateList] = useState<string[]>([]);\n\n  const [value, setValue] = React.useState<number>(10);\n  const [subjectText, setSubjectText] = useState(\"\");\n  const [candidateText, setCandidateText] = useState(\"\");\n  const [open, setOpen] = React.useState(false);\n\n  // const [test, tests] = React.useState<number>(10);\n\n  // const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n  //   username,\n  // ]);\n\n  const assets = useStreamQueries(Voting.Voting);\n\n  // const myUser = myUserResult.contracts[0]?.payload;\n\n  const allUsers = useStreamQueries(User.User).contracts;\n  let sliderPosition = 2;\n\n  const followers = useMemo(\n    () =>\n      allUsers\n        .map((user) => user.payload)\n        .filter((user) => user.username !== username)\n        .sort((x, y) => x.username.localeCompare(y.username)),\n    [allUsers, username]\n  );\n\n  // FOLLOW_BEGIN\n  const ledger = useLedger();\n\n  const [clickedButton] = useState(\"\");\n\n  const buttonHandler = async (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    const button: HTMLButtonElement = event.currentTarget;\n    console.log(button.name);\n    if (button.name == \"Create Vote\") {\n      setOpen(true);\n      const VoteKeys = generateVoteKeys(value);\n      console.log(candidateText);\n      const voteDetails = {\n        username: username,\n        following: VoteKeys,\n        votes: [],\n        voted: [],\n        candidates: candidateList,\n        subject: subjectText,\n      };\n      const createVote = ledger.create(Voting.Voting, voteDetails);\n      console.log(assets);\n    }\n\n    // if (button.name == \"Vote Yes\") {\n    //   if (assets.contracts[0]?.payload.voted.includes(username)) {\n    //     alert(\"You have already voted\");\n    //   } else {\n    //     await ledger\n    //       .exerciseByKey(\n    //         Voting.Voting.Vote,\n    //         assets.contracts[0]?.signatories[0],\n    //         { voter: username, vote: true }\n    //       )\n    //       .catch(console.error);\n    //   }\n    //   console.log(assets.contracts[0]?.payload.voted);\n    // }\n  };\n\n  const generateVoteKeys = (voterCount: any) => {\n    for (let i = 0; i < voterCount; i++) {\n      var crypto = require(\"crypto\");\n      var key = crypto.randomBytes(20).toString(\"hex\");\n      voteKeys.push(`${\"VoteKey\"}-${key}`);\n    }\n    return voteKeys;\n  };\n\n  const follow = async (userToFollow: Party): Promise<boolean> => {\n    try {\n      generateVoteKeys(sliderPosition);\n\n      return true;\n    } catch (error) {\n      alert(`Unknown error:\\n${JSON.stringify(error)}`);\n      return false;\n    }\n  };\n\n  const addCandidate = () => {\n    console.log(candidateText);\n    setCandidateList([...candidateList, candidateText]);\n    console.log(candidateList);\n  };\n\n  // >>>>>>>>>>>>Was working here before<<<<<<<<<\n\n  // candidateList.splice(\n  //   candidateList.indexOf(item),\n  //   1\n  // );\n  // setCandidateList(candidateList);\n\n  // console.log(item);\n\n  const handleClose = (\n    event: React.SyntheticEvent | Event,\n    reason?: string\n  ) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n\n    setOpen(false);\n  };\n  const action = (\n    <React.Fragment>\n      <IconButton\n        size=\"small\"\n        aria-label=\"close\"\n        color=\"inherit\"\n        onClick={handleClose}\n      >\n        <Close fontSize=\"small\" />\n      </IconButton>\n    </React.Fragment>\n  );\n\n  return (\n    <Container>\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"center\",\n              flexWrap: \"wrap\",\n            }}\n          >\n            <Ballot sx={{ fontSize: 45 }} color=\"primary\" />\n            <Typography variant=\"h5\">Create A Vote</Typography>\n          </div>\n          <Divider sx={{ p: 0 }} />\n\n          <Typography variant=\"h6\" sx={{ pt: 2 }}>\n            What is the vote on?\n          </Typography>\n          <Box textAlign=\"center\">\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Subject\"\n              variant=\"outlined\"\n              value={subjectText}\n              onChange={(event) => {\n                setSubjectText(event.target.value);\n              }}\n              style={{ width: \"94%\" }}\n              sx={{ m: 2 }}\n            />\n          </Box>\n          <Typography variant=\"h6\">Voters: {value}</Typography>\n\n          <Box textAlign=\"center\">\n            <Slider\n              value={value}\n              aria-label=\"Default\"\n              valueLabelDisplay=\"auto\"\n              name=\"slider\"\n              sx={{ m: 2 }}\n              style={{ width: \"95%\" }}\n              onChange={(event: any) => {\n                setValue(event.target.value);\n              }}\n            />\n          </Box>\n          <Typography variant=\"h6\">\n            Candidates: {candidateList.length}\n          </Typography>\n          {/* <Header as=\"h3\">Who are the candidates?</Header> */}\n\n          <Box textAlign=\"center\">\n            <TextField\n              id=\"outlined-basic\"\n              label=\"Candidate\"\n              variant=\"outlined\"\n              value={candidateText}\n              //  onChange={handleChange}\n              onChange={(event) => {\n                setCandidateText(event.target.value);\n              }}\n              onKeyPress={(event) => {\n                if (event.key === \"Enter\") {\n                  event.preventDefault();\n                  addCandidate();\n                  // console.log(ev.target.value);\n                }\n              }}\n              style={{ width: \"95%\" }}\n              sx={{ m: 2 }}\n            />\n\n            <List>\n              {candidateList.map((item) => (\n                <ListItem\n                  key={item}\n                  secondaryAction={\n                    <IconButton\n                      edge=\"end\"\n                      aria-label=\"delete\"\n                      onClick={(e) => {\n                        // const found = candidateList.find(element => element > item);\n                        setCandidateList((candidateList) =>\n                          candidateList.filter((i) => i !== item)\n                        );\n                        console.log(candidateList);\n                      }}\n                    >\n                      <Delete />\n                    </IconButton>\n                  }\n                >\n                  <ListItemText primary={item} />\n                </ListItem>\n              ))}\n            </List>\n\n            <ButtonGroup\n              variant=\"contained\"\n              aria-label=\"outlined primary button group\"\n            >\n              {/* <Button onClick={removeCandidate}>-</Button> */}\n              <Button onClick={addCandidate}>+</Button>\n            </ButtonGroup>\n          </Box>\n\n          {/* {candidateList} */}\n          <Box textAlign=\"center\">\n            <Button\n              variant=\"contained\"\n              onClick={buttonHandler}\n              className=\"button\"\n              name=\"Create Vote\"\n              sx={{ m: 2, alignItems: \"center\" }}\n            >\n              Create Vote\n            </Button>\n          </Box>\n          <Snackbar\n            open={open}\n            autoHideDuration={2000}\n            onClose={handleClose}\n            message=\"Vote Created\"\n            action={action}\n          />\n\n          {/* <Button variant=\"contained\" onClick={buttonHandler} className=\"button\" name=\"Vote Yes\">\n                Vote Yes\n              </Button> */}\n          {/* </Segment> */}\n        </Paper>\n      </Box>\n      {/* <Segment> */}\n      <Box sx={{ p: 1 }}>\n        <Paper sx={{ p: 3, borderRadius: \"16px\" }} elevation={2}>\n          <Grid container spacing={0}>\n            <Grid item>\n              <Key sx={{ fontSize: 45 }} color=\"primary\" />\n            </Grid>\n            <Grid direction=\"column\">\n              <Grid item>\n                <Typography variant=\"h5\" display=\"block\">\n                  Vote Keys\n                </Typography>\n              </Grid>\n              <Grid item>\n                <Typography\n                  variant=\"subtitle1\"\n                  color=\"secondary\"\n                  display=\"block\"\n                  style={{ lineHeight: \"15px\" }}\n                >\n                  Distribute vote keys between voters\n                </Typography>\n              </Grid>\n            </Grid>\n          </Grid>\n\n          <Divider />\n          <List\n            sx={{\n              width: \"100%\",\n              bgcolor: \"background.paper\",\n              position: \"relative\",\n              overflow: \"auto\",\n              maxHeight: 300,\n              \"& ul\": { padding: 0 },\n            }}\n            subheader={<li />}\n          >\n            {[0].map((sectionId) => (\n              <li key={`section-${sectionId}`}>\n                <ul>\n                  {assets.contracts[0]?.observers.map((item) => (\n                    <ListItem key={`item-${sectionId}-${item}`}>\n                      <ListItemText primary={`${item}`} />\n                    </ListItem>\n                  ))}\n                </ul>\n              </li>\n            ))}\n          </List>\n          {/* USERLIST_BEGIN */}\n          <UserList users={followers} onFollow={follow} />\n          {/* USERLIST_END */}\n        </Paper>\n      </Box>\n      {/* </Segment> */}\n      {/* </Grid.Column>\n          </Grid.Row>\n        </Grid> */}\n\n      {/* <Form></Form> */}\n    </Container>\n  );\n};\n\nexport default MainView;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport { LoginScreen, LoginScreenCreateVote } from \"./LoginScreen\";\nimport MainScreen from \"./MainScreen\";\nimport VoteScreen from \"./VoteScreen\";\nimport DamlLedger from \"@daml/react\";\nimport Credentials from \"../Credentials\";\nimport { httpBaseUrl } from \"../config\";\nimport { HashRouter as Router, Route, Link, Routes } from \"react-router-dom\";\n// import Home from \"./Home\";\n// import { Home, Foo, Bar } from \"./Topics\";\nimport VoteAnalitics from \"./VoteAnalitics\";\nimport MainView from \"./MainView\";\nimport { createTheme, ThemeProvider } from \"@mui/material\";\nimport { blue, purple } from \"@mui/material/colors\";\n/**\n * React component for the entry point into the application.\n */\n// APP_BEGIN\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#387DF6\",\n    },\n    secondary: {\n      main: \"#666666\",\n    },\n  },\n  typography: {\n    fontFamily: \"Roboto, sans-serif\",\n    subtitle1: {\n      fontSize: 16,\n    },\n    h5: {\n      fontWeight: 700,\n      fontSize: 24,\n    },\n    h6: {\n      fontWeight: 500,\n    },\n  },\n});\n\nconst App: React.FC = () => {\n  const [credentials, setCredentials] = React.useState<\n    Credentials | undefined\n  >();\n\n  return credentials ? (\n    <DamlLedger\n      token={credentials.token}\n      party={credentials.party}\n      httpBaseUrl={httpBaseUrl}\n    >\n      <Router>\n        <ThemeProvider theme={theme}>\n          <div>\n            <MainScreen onLogout={() => setCredentials(undefined)} />\n\n            <Routes>\n              {/* <Route path=\"/\" component={Home} /> */}\n              <Route path=\"/\" element={<VoteScreen />}></Route>\n              <Route path=\"/CreateVote\" element={<MainView />}></Route>\n              <Route path=\"/VoteAnalitics\" element={<VoteAnalitics />}></Route>\n            </Routes>\n          </div>\n        </ThemeProvider>\n      </Router>\n    </DamlLedger>\n  ) : (\n    <ThemeProvider theme={theme}>\n      <>\n        <Router>\n          <div>\n            <Routes>\n              {/* <Route path=\"/\" component={Home} /> */}\n              <Route\n                path=\"/\"\n                element={<LoginScreen onLogin={setCredentials} />}\n              ></Route>\n              <Route\n                path=\"/CreateVote\"\n                element={<LoginScreenCreateVote onLogin={setCredentials} />}\n              ></Route>\n            </Routes>\n          </div>\n        </Router>\n      </>\n    </ThemeProvider>\n\n    //\n  );\n};\n// APP_END\n\nexport default App;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport { authConfig } from \"./config\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nif (authConfig.provider !== \"auth0\") {\n  ReactDOM.render(<App />, document.getElementById(\"root\"));\n} else {\n  ReactDOM.render(\n    <Auth0Provider\n      domain={authConfig.domain}\n      clientId={authConfig.clientId}\n      redirectUri={window.location.origin}\n    >\n      <App />\n    </Auth0Provider>,\n    document.getElementById(\"root\")\n  );\n}\n"],"sourceRoot":""}